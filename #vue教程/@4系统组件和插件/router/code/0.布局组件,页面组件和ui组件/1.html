<script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.js"></script>
<script src="https://cdn.bootcss.com/vuex/3.0.1/vuex.js"></script>
<script src="https://cdn.bootcss.com/vue-router/3.0.1/vue-router.min.js"></script>
<div id="app">
</div>


<script>

  //ui组件
  Vue.component('btn', {template: `<button style="background: red"><slot></slot></button>`})
  //布局组件
  const layout = {
    template: `
        <div style="border: 1px solid green">
        <router-link to="/">/</router-link>
        <router-link to="/news/index">/news/index</router-link>
        <hr>
        <router-view style="background: #eee"></router-view>
        </div>`
    // <rout-view/>类似nuxt的<nuxt/>
  }
  const news_layout = {template: '<div><btn><router-link to="/news/news_list">company news</router-link></btn><btn>other</btn><router-view/></div>'}
  //页面组件
  const index = {template: '<div>index</div>'}
  const news_index = {template: '<div>news_index </div>'}
  const news_list = {template: '<div>   <router-link to="/news/1">/news/1</router-link></div>'}
  const id = {template: '<div>id:{{id}}</div>', props: ['id']}


  const router = new VueRouter({
    routes: [
      {
        path: '/',
        name: 'index',
        component: index
      },
      {
        path: '/news',
        name: 'news',
        component: news_layout,
        children: [{
          path: '/',
          name: 'news_index',
          component: news_index

        }, {
          path: 'news_list',
          name: 'news_list',
          component: news_list
        },
          {
            path: ':id',
            name: id,
            props: true,
            component: id
          }]
      }
    ]

  })
  const vm = new Vue({
    router,
    template: '<layout/>',
    components: {layout}
  })
    .$mount('#app')
</script>

<style>
  a {
    margin: 10px
  }
</style>
