<meta charset="utf-8">
<script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.js"></script>
<script src="https://cdn.bootcss.com/vuex/3.0.1/vuex.js"></script>
<script src="https://cdn.bootcss.com/axios/0.18.0/axios.min.js"></script>
<script src="https://cdn.bootcss.com/vue-router/3.0.1/vue-router.min.js"></script>

<div id="app">
    <example></example>
</div>

<script>

    Vue.component('example', {
        template: '<span @click="updateMessage">{{ message }}</span>',
        data: function () {
            return {
                message: '没有更新'
            }
        },
        methods: {

            updateMessage: async function () {
                this.message = '更新完成'
                console.log(this.$el.textContent) // => '没有更新'
                this.$nextTick(function () {
                    console.log(this.$el.textContent) // => '更新完成'
                })
                this.$nextTick().then(_ => {
                    console.log(this.$el.textContent)// => '更新完成'
                })
                await this.$nextTick()
                console.log(this.$el.textContent)// => '更新完成'
            }
        }
    })
    new Vue({el: '#app'})


</script>


