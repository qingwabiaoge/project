<script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.js"></script>
<script src="https://cdn.bootcss.com/vuex/3.0.1/vuex.js"></script>
<script src="https://cdn.bootcss.com/vue-router/3.0.1/vue-router.min.js"></script>
<meta charset="utf-8">
<div id="app">
</div>


<script>
//-------------------------------------复用------------------------------------
  //ui组件
  Vue.component('btn', {template: `<button class="ui-btn"><slot></slot></button>`,
    created(){
      console.log('btn-creat')
    },
    destroyed(){
    console.log('btn-distroyed')
      }

    }

  )
  //module组件
  Vue.component('module', {template: `<div class="module">module组件复用<slot></slot></div>` ,
    created(){
      console.log('module-creat')
    },
    destroyed(){
    console.log('module-destroyed')
    }

  })

//-------------------------------------使用一次从未销毁------------------------------------
  //顶级布局组件
  const app = {
    template: `
        <div class="app"> app跟组件:
        <btn><router-link to="/news/">/news/</router-link></btn>
        <router-view ></router-view>
        </div>`
    // <rout-view/>类似nuxt的<nuxt/>
  }

  //布局组件
  const news = {
    template: `<div class="layout">
news布局组件:
                    <btn><router-link to="/news/news_list"> news_list</router-link></btn>
                    <router-view />
                    </div>`
  }

  //最终页面组件
  const news_index = {template: '<div class="page1">news_index最终页面组件<module>:news_index</module> </div>'}
  const news_list = {template: '<div class="page2">news_list最终页面组件<module>:<router-link to="/news/1">/news/1</router-link></module></div>'}
  const news_id = {template: '<div class="page3">news_id最终页面组件<module>id:{{id}}</module> </div>', props: ['id']}






  const router = new VueRouter({
    linkActiveClass: 'active',
    routes: [

      {
        path: '/news',
        name: 'news',
        component: news,
        children: [
          {
            path: '/',
            name: 'news_index',
            component: news_index

          },
          {
            path: 'news_list',
            name: 'news_list',
            component: news_list
          },

          {
            path: ':id',
            name: 'news_id',
            props: true,
            component: news_id
          }]
      }
    ]

  })
  const vm = new Vue({
    router,
    template: '<app/>',
    components: {app}
  }).$mount('#app')
</script>

<style>
  div {
    margin: 20px
  }

  a {
    margin: 10px
  }

  .app {

    border: 5px solid deeppink
  }

  .layout {
    border: 5px solid red
  }

  .page1 {
    border: 5px solid blue
  }

  .page2 {
    border: 5px dashed blue
  }
  .page3 {
    border: 5px dotted  blue;
  }

  .module {
    border: 5px solid green
  }



  .ui-btn {
    background: darkgrey;
  }

  .ui-btn .active {
    color: white;
  }
</style>
