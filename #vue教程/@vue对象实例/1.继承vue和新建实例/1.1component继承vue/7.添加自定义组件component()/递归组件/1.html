<meta charset="utf-8">
<script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.js"></script>
<body>
<div id="app">
  <tree :data="data"></tree>
</div>
</body>

<script>

  Vue.component("tree", {

    props: {
      data: {
        type: Array,
        default: []
      },
      increment: {
        type: Number,
        default: 0
      }
    },
    computed: {
      count() {
        //自加一次,传给子,子再自加 自加为了padding
        let c = this.increment;
        return ++c;
      },
      stylePadding() {
        return {
          'padding-left': this.count * 1 + 'px'
        }
      }
    },
    template: `
            <ul>
            <li v-for="item of data">
             <a  :style="stylePadding">{{item.title}}</a>
            <tree
            v-if="item.chidren"
            :increment="count"
            :data="item.chidren"
            >
            </tree>
            </li>
            </ul>
               `
  })


  let data = [{
    title: "目录",
    chidren: [{
      title: "我的音乐",
      chidren: [
        {
          title: "周杰伦",
          chidren: [{
            title: "发如雪"
          }]
        },
        {
          title: "王杰",
          chidren: [{
            title: "一场游戏一场梦"
          }]
        }]
    },
      {
        title: "我的照片"
      }]
  }];
  new Vue({
    el: "#app",
    data: {
      data: data
    }
  })
</script>
