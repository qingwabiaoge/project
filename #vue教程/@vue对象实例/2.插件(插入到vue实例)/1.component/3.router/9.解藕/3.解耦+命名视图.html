<meta charset="utf-8">
<script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.js"></script>
<script src="https://cdn.bootcss.com/vue-router/3.0.1/vue-router.min.js"></script>

<div id="app">
  <h1>Route props</h1>
  <ul>
    <li>
      <router-link to="/">/</router-link>
    </li>
    <li>
      <router-link to="/hello/you">/hello/you</router-link>
    </li>
    <li>
      <router-link to="/static">/static</router-link>
    </li>
    <li>
      <router-link to="/dynamic/1">/dynamic/1</router-link>
    </li>

  </ul>

  <hr>
  <router-view msg="hi"></router-view>
  <hr>
  <router-view name="hello" class="red" attr="自定义属性"></router-view>
</div>


<script>

const def={
  template: `<div>default</div>`
}
  const Hello = {
    template: `<div>
                       <p>
                        msg:<b>{{msg}}</b> <br>
                        attrs: {{$attrs}}
                        </p>
                    </div>`,
    props: {
      msg: {
        type: String,
        default: 'Vue!'
      }
    }
  }


  const router = new VueRouter({
    mode: 'history',

    routes: [
      {path: '/', components:{hello:Hello,default:def} ,}, // No props, no nothing
      {
        path: '/hello/:msg',
        components:{hello:Hello,default:def} ,
        props: true
      }, // Pass route.params to props
      {
        path: '/static',
        components:{hello:Hello,default:def} ,
        props: {msg: 'world'}
      }, // static values
      //函数生成静态props作为router-view的属性
      {
        path: '/dynamic/:years',
        components:{hello:Hello,default:def} ,
        props(route) {
          return {
            msg: (new Date().getFullYear() + parseInt(route.params.years)) + '!'
          }
        }
      }, // custom logic for mapping between route and props
    ]
  })

  new Vue({
    router,


  }).$mount('#app')

</script>

<style>
  .red {
    color: red
  }
</style>
