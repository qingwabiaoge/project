<script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.js"></script>
<script src="https://cdn.bootcss.com/vuex/3.0.1/vuex.js"></script>
<script src="https://cdn.bootcss.com/vue-router/3.0.1/vue-router.min.js"></script>
<div id="app">
</div>


<script>
  //ui组件
  Vue.component('btn', {template: `<button class="ui"><slot></slot></button>`,created(){
      console.log('module-creat')
    }})
  //module组件
  Vue.component('module', {template: `<div class="module"><slot></slot></div>` ,created(){
      console.log('btn-creat')
    }})



  //布局组件
  const app = {
    template: `
        <div class="app">
        <router-link to="/news/">/news/</router-link>
        <router-view ></router-view>
        </div>`
    // <rout-view/>类似nuxt的<nuxt/>
  }
  //布局组件
  const news = {
    template: `<div class="layout">
                    <btn><router-link to="/news/news_list"> news-category</router-link></btn>
                    <router-view />
                    </div>`
  }

  //最终页面组件

  const news_index = {template: '<div class="page1"><module>news_index</module> </div>'}
  const news_list = {template: '<div class="page2"><module><router-link to="/news/1">/news/1</router-link></module></div>'}
  const news_id = {template: '<div class="page3"> <module>id:{{id}}</module> </div>', props: ['id']}


  const router = new VueRouter({
    linkActiveClass: 'active',
    routes: [

      {
        path: '/news',
        name: 'news',
        component: news,
        children: [
          {
            path: '/',
            name: 'news_index',
            component: news_index

          },
          {
            path: 'news_list',
            name: 'news_list',
            component: news_list
          },

          {
            path: ':id',
            name: 'news_id',
            props: true,
            component: news_id
          }]
      }
    ]

  })
  const vm = new Vue({
    router,
    template: '<app/>',
    components: {app}
  }).$mount('#app')
</script>

<style>
  div {
    margin: 20px
  }

  a {
    margin: 10px
  }

  .app {

    border: 5px solid deeppink
  }

  .layout {
    border: 5px solid red
  }

  .page1 {
    border: 5px solid blue
  }

  .page2 {
    border: 5px dashed blue
  }
  .page3 {
    border: 5px dotted  blue;
  }

  .module {
    border: 5px solid green
  }

  .page2 .module {
    border: 5px dashed green
  }

  .page3 .module {
    border: 5px dotted green
  }


  .ui {
    background: darkgrey;
  }

  .ui .active {
    color: white;
  }
</style>
