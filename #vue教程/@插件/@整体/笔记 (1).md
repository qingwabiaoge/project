# 全局插件和局部插件

```html

meta charset="UTF-8">
<body>
<script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.js"></script>
<link href="https://cdn.bootcss.com/animate.css/3.7.0/animate.css" rel="stylesheet">
<script src="https://cdn.bootcss.com/vue-router/3.0.1/vue-router.min.js"></script>


<div id="app">
    <cl></cl>

    <div>{{msg|setLength(2)}}</div>
    <div>{{msg2}}</div>
    <input type="text" v-focus>
    <input type="tel" v-focus-global>
</div>

</body>
<script>

    Vue.myGlobalMethod = function () {
        console.log('Vue.myGlobalMethod静态函数运行图')
    };

    Vue.prototype.$fn = function () {

        console.log("Vue.prototype.$fn() / this.$fn运行")
    };

    Vue.mixin({
        mounted() {
            console.log('Vue.mixin运行')
        }
    });

    Vue.directive('focus', {
        inserted: function (el) {
            el.focus()
        }
    })

    Vue.component('cl', {template: '<div>cl</div>'})

    Vue.filter('setLength', function (value, num) {
        return value.slice(0, num)
    })
    //Vue的实例化对象app
    const vm = new Vue({
        el: "#app",
        data: {msg: '你好你好你好你好'},
        created() {
            Vue.myGlobalMethod()
            this.$fn()
        },
        methods: {},
        mixins: [{
            data: {msg2: 'msg - mixin'}
        }],
        components: {
            cl: {template: '<div>cl-local</div>'}
        },
        filters: {
            setLength(value, num) {
                return value.slice(0, num + 2)
            }
        },
        directives: {
            'focus-global': {
                inserted: function (el) {
                    el.focus()
                }
            }
        }

    });


</script>

```

### 全局插件: 

每个实例都可以使用的组件

```javascript

export default {
    install(Vue, options) {
        Vue.myGlobalMethod = function () {  // 1. 添加全局方法或属性，如:  vue-custom-element
            // 逻辑...
        }

        Vue.directive('my-directive', {  // 2. 添加全局资源：指令/过滤器/过渡等，如 vue-touch
            bind (el, binding, vnode, oldVnode) {
                // 逻辑...
            }
            ...
        })
    
        Vue.mixin({
            created: function () {  // 3. 通过全局 mixin方法添加一些组件选项，如: vuex
                // 逻辑...
            }
            ...
        })    
    
        Vue.prototype.$myMethod = function (options) {  // 4. 添加实例方法，通过把它们添加到 Vue.prototype 上实现
            // 逻辑...
        }
    }
}



然后import 'xxx'

vue.use()
```

### 局部插件

局部插件是 router的作用引起的,写在组件构造器里,路由切换,触发构造函数才建立

# 插件种类(有全局和局部版本)

### 注入静态函数和静态变量

-  注入到nuxt的ctx
-  注入到Vue
-  注入到Store
-  注入到Store的ctx
-  提交到$store.state
-  注入到axios

### 注入到Vue.prototype 


   注入到Vue.prototype给vue实例继承 

###  mixin

 注入到到每一个vue对象,并覆盖同名,像更高层次的Vue.prototype ,原理可能是Object.assign

### 模版资源:

######  指令directive 

  ```
自动运行的dom操作函数 

  ```

######  组件 component 

```
全局组件,添加全局组件构造器解析自定义标签:
 
全局组件构造器 Vue.use(Element);,

< Button >< /Button> 被解析时会查询是否有此组件的构造器运行构造函数
```
###### 过滤器 transform

```
对binding数据进行处理的函数
```
###### 过渡transform

```
动画css class
```






# use()

vue统一安装四种插件的方式,开发者写出install,方便使用者安装

# 组件

### 异步路由组件的

 切换路由才下载这个组件的代码, 然后建立vue对象





