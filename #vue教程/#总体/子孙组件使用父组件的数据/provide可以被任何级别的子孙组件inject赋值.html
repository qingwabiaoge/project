<meta charset="utf-8">
<script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.js"></script>

<style>
  form {
    border: 1px solid #0bb20c
  }
</style>
<div id="app">

  <!--  <input type="text" disabled>-->


  <l-form disabled>
    <l-form-item>
      <l-input>

      </l-input>

    </l-form-item>

  </l-form>


</div>
<script>


  Vue.component('LInput', {
    template: '<input :disabled="disabled||lFormItem.disabled||lForm.disabled" :value="`disabled:${disabled}`"/>',
    inject: {
      lForm: {default: {}},
      lFormItem: {default: {}}
    }, //引入父级的父级的父级的变量
    props: {disabled: Boolean},
  })

  Vue.component('LFormItem', {
    template: '<label for="name"> name: <slot></slot></label>',
    props: {disabled: Boolean},
    provide() {
      return {
        lFormItem: this
      };
    },

  })

  Vue.component('LForm', {
    template: '<form> <slot></slot></form>',
    props: {disabled: Boolean},
    provide() {
      return {
        lForm: this
      };
    },

  })


  const vm = new Vue({
    el: '#app',
    data: {},
  })
</script>
