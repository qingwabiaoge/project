<meta charset="utf-8">
<script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.js"></script>
<script src="https://cdn.bootcss.com/vue-router/3.0.1/vue-router.min.js"></script>

<div id="app">

</div>


<script>


    function dynamicPropsFn(route) {
        const now = new Date()
        return {
            name: (now.getFullYear() + parseInt(route.params.years)) + '!'
        }
    }


    const Hello = {
        template: `<div><h2 class="hello"> {{name}}</h2>
                          <hr>
                                <p> router-view标签可以用class <br>
                                    router-view标签可以用attrs: {{$attrs}}<br>
                                    router-view标签上不能添加props, 需要写在new VueRouter()的配置里属性默认值,或者函数动态返回值,  name:<b>{{name}}</b>
                                </p>
                                </div>`,
        props: {
            name: {
                type: String,
                default: 'Vue!'
            }
        }
    }


    const router = new VueRouter({
        mode: 'history',

        routes: [
            {path: '/', component: Hello}, // No props, no nothing
            {path: '/hello/:name', component: Hello, props: true}, // Pass route.params to props
            {path: '/static', component: Hello, props: {name: 'world'}}, // static values

            //函数生成静态props作为router-view的属性
            {path: '/dynamic/:years', component: Hello, props: dynamicPropsFn}, // custom logic for mapping between route and props
        ]
    })

    new Vue({
        router,
        template: `
<div id="app">
    <h1>Route props</h1>
    <ul>
        <li><router-link to="/">/</router-link></li>
        <li><router-link to="/hello/you">/hello/you</router-link></li>
        <li><router-link to="/static">/static</router-link></li>
        <li><router-link to="/dynamic/1">/dynamic/1</router-link></li>

    </ul>

    <router-view class="view" foo="$attrs属性" ></router-view>
</div>
`
    }).$mount('#app')

</script>