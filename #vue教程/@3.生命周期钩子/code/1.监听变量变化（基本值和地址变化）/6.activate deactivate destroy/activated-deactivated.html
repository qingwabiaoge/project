<meta charset="utf-8">
<script src="https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.js"></script>
<script src="https://cdn.bootcss.com/vuex/3.0.1/vuex.js"></script>
<div id="app">
    <button v-for="item in arry" @click="curComponent=item">
        {{item}}
    </button>
    <keep-alive>
        <x :is="curComponent"></x>
    </keep-alive>
</div>

<script>
    Vue.component('first', {
        template: `<div>first</div>`,
        created() {
            console.log('first渲染了')
        }
        ,
        activated() {
            console.log('激活 activated钩子函数运行')
        },
        deactivated() {
            console.log('失活 deactivated钩子函数运行')
        },
        destroyed() {
            console.log('first销毁了')
        }
    })
    Vue.component('second', {
        template: `<div>second</div>`,
        created() {
            console.log('second渲染了')
        },
        activated() {
            console.log('激活 activated钩子函数运行')
        },
        deactivated() {
            console.log('失活 deactivated钩子函数运行')
        }
        ,
        destroyed() {
            console.log('second销毁了')
        }
    })

    const vm = new Vue({
        el: '#app',

        data: {
            arry: ['first', 'second'],
            curComponent: 'first',

        }

    })

</script>