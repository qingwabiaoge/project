if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/aui-diagram-node/aui-diagram-node.js']) {
   __coverage__['build/aui-diagram-node/aui-diagram-node.js'] = {"path":"build/aui-diagram-node/aui-diagram-node.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":28},"end":{"line":1,"column":47}}},"2":{"name":"(anonymous_2)","line":5,"loc":{"start":{"line":5,"column":30},"end":{"line":5,"column":62}}},"3":{"name":"(anonymous_3)","line":11,"loc":{"start":{"line":11,"column":26},"end":{"line":11,"column":43}}},"4":{"name":"(anonymous_4)","line":18,"loc":{"start":{"line":18,"column":28},"end":{"line":18,"column":65}}},"5":{"name":"(anonymous_5)","line":46,"loc":{"start":{"line":46,"column":23},"end":{"line":46,"column":37}}},"6":{"name":"(anonymous_6)","line":50,"loc":{"start":{"line":50,"column":12},"end":{"line":50,"column":26}}},"7":{"name":"(anonymous_7)","line":185,"loc":{"start":{"line":185,"column":21},"end":{"line":185,"column":32}}},"8":{"name":"(anonymous_8)","line":397,"loc":{"start":{"line":397,"column":19},"end":{"line":397,"column":34}}},"9":{"name":"(anonymous_9)","line":409,"loc":{"start":{"line":409,"column":24},"end":{"line":409,"column":50}}},"10":{"name":"(anonymous_10)","line":413,"loc":{"start":{"line":413,"column":40},"end":{"line":413,"column":57}}},"11":{"name":"(anonymous_11)","line":425,"loc":{"start":{"line":425,"column":17},"end":{"line":425,"column":30}}},"12":{"name":"(anonymous_12)","line":447,"loc":{"start":{"line":447,"column":21},"end":{"line":447,"column":32}}},"13":{"name":"(anonymous_13)","line":494,"loc":{"start":{"line":494,"column":20},"end":{"line":494,"column":31}}},"14":{"name":"(anonymous_14)","line":497,"loc":{"start":{"line":497,"column":35},"end":{"line":497,"column":74}}},"15":{"name":"(anonymous_15)","line":512,"loc":{"start":{"line":512,"column":23},"end":{"line":512,"column":44}}},"16":{"name":"(anonymous_16)","line":532,"loc":{"start":{"line":532,"column":25},"end":{"line":532,"column":46}}},"17":{"name":"(anonymous_17)","line":556,"loc":{"start":{"line":556,"column":26},"end":{"line":556,"column":37}}},"18":{"name":"(anonymous_18)","line":568,"loc":{"start":{"line":568,"column":15},"end":{"line":568,"column":26}}},"19":{"name":"(anonymous_19)","line":582,"loc":{"start":{"line":582,"column":17},"end":{"line":582,"column":52}}},"20":{"name":"(anonymous_20)","line":603,"loc":{"start":{"line":603,"column":48},"end":{"line":603,"column":59}}},"21":{"name":"(anonymous_21)","line":628,"loc":{"start":{"line":628,"column":21},"end":{"line":628,"column":37}}},"22":{"name":"(anonymous_22)","line":640,"loc":{"start":{"line":640,"column":20},"end":{"line":640,"column":31}}},"23":{"name":"(anonymous_23)","line":657,"loc":{"start":{"line":657,"column":43},"end":{"line":657,"column":65}}},"24":{"name":"(anonymous_24)","line":669,"loc":{"start":{"line":669,"column":21},"end":{"line":669,"column":37}}},"25":{"name":"(anonymous_25)","line":694,"loc":{"start":{"line":694,"column":21},"end":{"line":694,"column":43}}},"26":{"name":"(anonymous_26)","line":714,"loc":{"start":{"line":714,"column":26},"end":{"line":714,"column":37}}},"27":{"name":"(anonymous_27)","line":729,"loc":{"start":{"line":729,"column":27},"end":{"line":729,"column":38}}},"28":{"name":"(anonymous_28)","line":744,"loc":{"start":{"line":744,"column":22},"end":{"line":744,"column":38}}},"29":{"name":"(anonymous_29)","line":751,"loc":{"start":{"line":751,"column":43},"end":{"line":751,"column":65}}},"30":{"name":"(anonymous_30)","line":767,"loc":{"start":{"line":767,"column":20},"end":{"line":767,"column":41}}},"31":{"name":"(anonymous_31)","line":781,"loc":{"start":{"line":781,"column":23},"end":{"line":781,"column":36}}},"32":{"name":"(anonymous_32)","line":787,"loc":{"start":{"line":787,"column":75},"end":{"line":787,"column":96}}},"33":{"name":"(anonymous_33)","line":790,"loc":{"start":{"line":790,"column":56},"end":{"line":790,"column":76}}},"34":{"name":"(anonymous_34)","line":798,"loc":{"start":{"line":798,"column":37},"end":{"line":798,"column":64}}},"35":{"name":"(anonymous_35)","line":813,"loc":{"start":{"line":813,"column":22},"end":{"line":813,"column":43}}},"36":{"name":"(anonymous_36)","line":824,"loc":{"start":{"line":824,"column":22},"end":{"line":824,"column":33}}},"37":{"name":"(anonymous_37)","line":835,"loc":{"start":{"line":835,"column":28},"end":{"line":835,"column":39}}},"38":{"name":"(anonymous_38)","line":847,"loc":{"start":{"line":847,"column":23},"end":{"line":847,"column":34}}},"39":{"name":"(anonymous_39)","line":851,"loc":{"start":{"line":851,"column":40},"end":{"line":851,"column":59}}},"40":{"name":"(anonymous_40)","line":871,"loc":{"start":{"line":871,"column":26},"end":{"line":871,"column":37}}},"41":{"name":"(anonymous_41)","line":905,"loc":{"start":{"line":905,"column":24},"end":{"line":905,"column":39}}},"42":{"name":"(anonymous_42)","line":917,"loc":{"start":{"line":917,"column":31},"end":{"line":917,"column":52}}},"43":{"name":"(anonymous_43)","line":929,"loc":{"start":{"line":929,"column":27},"end":{"line":929,"column":41}}},"44":{"name":"(anonymous_44)","line":940,"loc":{"start":{"line":940,"column":16},"end":{"line":940,"column":28}}},"45":{"name":"(anonymous_45)","line":971,"loc":{"start":{"line":971,"column":26},"end":{"line":971,"column":47}}},"46":{"name":"(anonymous_46)","line":982,"loc":{"start":{"line":982,"column":29},"end":{"line":982,"column":40}}},"47":{"name":"(anonymous_47)","line":996,"loc":{"start":{"line":996,"column":27},"end":{"line":996,"column":38}}},"48":{"name":"(anonymous_48)","line":1012,"loc":{"start":{"line":1012,"column":27},"end":{"line":1012,"column":38}}},"49":{"name":"(anonymous_49)","line":1016,"loc":{"start":{"line":1016,"column":47},"end":{"line":1016,"column":68}}},"50":{"name":"(anonymous_50)","line":1028,"loc":{"start":{"line":1028,"column":31},"end":{"line":1028,"column":47}}},"51":{"name":"(anonymous_51)","line":1039,"loc":{"start":{"line":1039,"column":22},"end":{"line":1039,"column":33}}},"52":{"name":"(anonymous_52)","line":1056,"loc":{"start":{"line":1056,"column":33},"end":{"line":1056,"column":49}}},"53":{"name":"(anonymous_53)","line":1068,"loc":{"start":{"line":1068,"column":29},"end":{"line":1068,"column":40}}},"54":{"name":"(anonymous_54)","line":1085,"loc":{"start":{"line":1085,"column":28},"end":{"line":1085,"column":39}}},"55":{"name":"(anonymous_55)","line":1102,"loc":{"start":{"line":1102,"column":33},"end":{"line":1102,"column":44}}},"56":{"name":"(anonymous_56)","line":1124,"loc":{"start":{"line":1124,"column":27},"end":{"line":1124,"column":38}}},"57":{"name":"(anonymous_57)","line":1137,"loc":{"start":{"line":1137,"column":29},"end":{"line":1137,"column":47}}},"58":{"name":"(anonymous_58)","line":1153,"loc":{"start":{"line":1153,"column":28},"end":{"line":1153,"column":46}}},"59":{"name":"(anonymous_59)","line":1171,"loc":{"start":{"line":1171,"column":27},"end":{"line":1171,"column":38}}},"60":{"name":"(anonymous_60)","line":1196,"loc":{"start":{"line":1196,"column":33},"end":{"line":1196,"column":44}}},"61":{"name":"(anonymous_61)","line":1215,"loc":{"start":{"line":1215,"column":34},"end":{"line":1215,"column":45}}},"62":{"name":"(anonymous_62)","line":1234,"loc":{"start":{"line":1234,"column":25},"end":{"line":1234,"column":36}}},"63":{"name":"(anonymous_63)","line":1248,"loc":{"start":{"line":1248,"column":28},"end":{"line":1248,"column":44}}},"64":{"name":"(anonymous_64)","line":1262,"loc":{"start":{"line":1262,"column":30},"end":{"line":1262,"column":46}}},"65":{"name":"(anonymous_65)","line":1276,"loc":{"start":{"line":1276,"column":31},"end":{"line":1276,"column":47}}},"66":{"name":"(anonymous_66)","line":1293,"loc":{"start":{"line":1293,"column":31},"end":{"line":1293,"column":47}}},"67":{"name":"(anonymous_67)","line":1310,"loc":{"start":{"line":1310,"column":23},"end":{"line":1310,"column":39}}},"68":{"name":"(anonymous_68)","line":1313,"loc":{"start":{"line":1313,"column":35},"end":{"line":1313,"column":74}}},"69":{"name":"(anonymous_69)","line":1327,"loc":{"start":{"line":1327,"column":25},"end":{"line":1327,"column":36}}},"70":{"name":"(anonymous_70)","line":1342,"loc":{"start":{"line":1342,"column":32},"end":{"line":1342,"column":43}}},"71":{"name":"(anonymous_71)","line":1358,"loc":{"start":{"line":1358,"column":24},"end":{"line":1358,"column":35}}},"72":{"name":"(anonymous_72)","line":1383,"loc":{"start":{"line":1383,"column":22},"end":{"line":1383,"column":33}}},"73":{"name":"(anonymous_73)","line":1403,"loc":{"start":{"line":1403,"column":25},"end":{"line":1403,"column":39}}},"74":{"name":"(anonymous_74)","line":1413,"loc":{"start":{"line":1413,"column":34},"end":{"line":1413,"column":55}}},"75":{"name":"(anonymous_75)","line":1439,"loc":{"start":{"line":1439,"column":28},"end":{"line":1439,"column":39}}},"76":{"name":"(anonymous_76)","line":1492,"loc":{"start":{"line":1492,"column":27},"end":{"line":1492,"column":41}}},"77":{"name":"(anonymous_77)","line":1512,"loc":{"start":{"line":1512,"column":20},"end":{"line":1512,"column":34}}},"78":{"name":"(anonymous_78)","line":1530,"loc":{"start":{"line":1530,"column":24},"end":{"line":1530,"column":35}}},"79":{"name":"(anonymous_79)","line":1539,"loc":{"start":{"line":1539,"column":24},"end":{"line":1539,"column":38}}},"80":{"name":"(anonymous_80)","line":1556,"loc":{"start":{"line":1556,"column":18},"end":{"line":1556,"column":32}}},"81":{"name":"(anonymous_81)","line":1569,"loc":{"start":{"line":1569,"column":29},"end":{"line":1569,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1587,"column":82}},"2":{"start":{"line":3,"column":0},"end":{"line":58,"column":93}},"3":{"start":{"line":6,"column":8},"end":{"line":6,"column":102}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":62}},"5":{"start":{"line":12,"column":8},"end":{"line":13,"column":31}},"6":{"start":{"line":15,"column":8},"end":{"line":15,"column":44}},"7":{"start":{"line":19,"column":8},"end":{"line":24,"column":37}},"8":{"start":{"line":26,"column":8},"end":{"line":41,"column":9}},"9":{"start":{"line":27,"column":12},"end":{"line":28,"column":70}},"10":{"start":{"line":30,"column":12},"end":{"line":40,"column":13}},"11":{"start":{"line":31,"column":16},"end":{"line":33,"column":83}},"12":{"start":{"line":35,"column":16},"end":{"line":39,"column":17}},"13":{"start":{"line":36,"column":20},"end":{"line":36,"column":38}},"14":{"start":{"line":37,"column":20},"end":{"line":37,"column":38}},"15":{"start":{"line":38,"column":20},"end":{"line":38,"column":43}},"16":{"start":{"line":43,"column":8},"end":{"line":43,"column":21}},"17":{"start":{"line":47,"column":8},"end":{"line":47,"column":52}},"18":{"start":{"line":51,"column":8},"end":{"line":51,"column":40}},"19":{"start":{"line":69,"column":0},"end":{"line":1582,"column":3}},"20":{"start":{"line":186,"column":16},"end":{"line":186,"column":36}},"21":{"start":{"line":188,"column":16},"end":{"line":188,"column":62}},"22":{"start":{"line":398,"column":8},"end":{"line":398,"column":91}},"23":{"start":{"line":410,"column":8},"end":{"line":410,"column":64}},"24":{"start":{"line":411,"column":8},"end":{"line":411,"column":84}},"25":{"start":{"line":413,"column":8},"end":{"line":415,"column":11}},"26":{"start":{"line":414,"column":12},"end":{"line":414,"column":48}},"27":{"start":{"line":426,"column":8},"end":{"line":426,"column":89}},"28":{"start":{"line":448,"column":12},"end":{"line":448,"column":32}},"29":{"start":{"line":450,"column":12},"end":{"line":453,"column":15}},"30":{"start":{"line":455,"column":12},"end":{"line":457,"column":15}},"31":{"start":{"line":459,"column":12},"end":{"line":480,"column":15}},"32":{"start":{"line":482,"column":12},"end":{"line":482,"column":73}},"33":{"start":{"line":484,"column":12},"end":{"line":484,"column":96}},"34":{"start":{"line":495,"column":12},"end":{"line":495,"column":32}},"35":{"start":{"line":497,"column":12},"end":{"line":499,"column":15}},"36":{"start":{"line":498,"column":16},"end":{"line":498,"column":73}},"37":{"start":{"line":501,"column":12},"end":{"line":501,"column":38}},"38":{"start":{"line":502,"column":12},"end":{"line":502,"column":46}},"39":{"start":{"line":503,"column":12},"end":{"line":503,"column":58}},"40":{"start":{"line":513,"column":12},"end":{"line":514,"column":58}},"41":{"start":{"line":516,"column":12},"end":{"line":516,"column":64}},"42":{"start":{"line":518,"column":12},"end":{"line":521,"column":13}},"43":{"start":{"line":519,"column":16},"end":{"line":519,"column":42}},"44":{"start":{"line":520,"column":16},"end":{"line":520,"column":60}},"45":{"start":{"line":523,"column":12},"end":{"line":523,"column":30}},"46":{"start":{"line":533,"column":12},"end":{"line":533,"column":32}},"47":{"start":{"line":534,"column":12},"end":{"line":534,"column":77}},"48":{"start":{"line":536,"column":12},"end":{"line":548,"column":13}},"49":{"start":{"line":537,"column":16},"end":{"line":537,"column":77}},"50":{"start":{"line":539,"column":16},"end":{"line":542,"column":19}},"51":{"start":{"line":544,"column":16},"end":{"line":547,"column":19}},"52":{"start":{"line":557,"column":12},"end":{"line":558,"column":58}},"53":{"start":{"line":560,"column":12},"end":{"line":560,"column":91}},"54":{"start":{"line":569,"column":12},"end":{"line":569,"column":32}},"55":{"start":{"line":571,"column":12},"end":{"line":571,"column":38}},"56":{"start":{"line":583,"column":12},"end":{"line":583,"column":32}},"57":{"start":{"line":585,"column":12},"end":{"line":585,"column":60}},"58":{"start":{"line":587,"column":12},"end":{"line":587,"column":33}},"59":{"start":{"line":588,"column":12},"end":{"line":588,"column":77}},"60":{"start":{"line":590,"column":12},"end":{"line":615,"column":13}},"61":{"start":{"line":591,"column":16},"end":{"line":614,"column":17}},"62":{"start":{"line":592,"column":20},"end":{"line":592,"column":58}},"63":{"start":{"line":593,"column":20},"end":{"line":593,"column":81}},"64":{"start":{"line":595,"column":20},"end":{"line":598,"column":23}},"65":{"start":{"line":600,"column":20},"end":{"line":611,"column":22}},"66":{"start":{"line":604,"column":36},"end":{"line":604,"column":73}},"67":{"start":{"line":613,"column":20},"end":{"line":613,"column":78}},"68":{"start":{"line":617,"column":12},"end":{"line":617,"column":49}},"69":{"start":{"line":619,"column":12},"end":{"line":619,"column":29}},"70":{"start":{"line":629,"column":12},"end":{"line":629,"column":32}},"71":{"start":{"line":631,"column":12},"end":{"line":631,"column":56}},"72":{"start":{"line":641,"column":12},"end":{"line":641,"column":32}},"73":{"start":{"line":642,"column":12},"end":{"line":642,"column":50}},"74":{"start":{"line":643,"column":12},"end":{"line":643,"column":58}},"75":{"start":{"line":645,"column":12},"end":{"line":654,"column":13}},"76":{"start":{"line":649,"column":16},"end":{"line":649,"column":54}},"77":{"start":{"line":652,"column":16},"end":{"line":652,"column":41}},"78":{"start":{"line":653,"column":16},"end":{"line":653,"column":61}},"79":{"start":{"line":656,"column":12},"end":{"line":660,"column":13}},"80":{"start":{"line":657,"column":16},"end":{"line":659,"column":19}},"81":{"start":{"line":658,"column":20},"end":{"line":658,"column":58}},"82":{"start":{"line":670,"column":12},"end":{"line":670,"column":32}},"83":{"start":{"line":671,"column":12},"end":{"line":671,"column":50}},"84":{"start":{"line":672,"column":12},"end":{"line":672,"column":40}},"85":{"start":{"line":674,"column":12},"end":{"line":674,"column":49}},"86":{"start":{"line":676,"column":12},"end":{"line":685,"column":13}},"87":{"start":{"line":677,"column":16},"end":{"line":677,"column":45}},"88":{"start":{"line":678,"column":16},"end":{"line":678,"column":55}},"89":{"start":{"line":680,"column":16},"end":{"line":682,"column":17}},"90":{"start":{"line":681,"column":20},"end":{"line":681,"column":48}},"91":{"start":{"line":684,"column":16},"end":{"line":684,"column":73}},"92":{"start":{"line":695,"column":12},"end":{"line":695,"column":32}},"93":{"start":{"line":696,"column":12},"end":{"line":696,"column":54}},"94":{"start":{"line":698,"column":12},"end":{"line":704,"column":14}},"95":{"start":{"line":715,"column":12},"end":{"line":715,"column":32}},"96":{"start":{"line":716,"column":12},"end":{"line":716,"column":50}},"97":{"start":{"line":718,"column":12},"end":{"line":718,"column":43}},"98":{"start":{"line":719,"column":12},"end":{"line":719,"column":65}},"99":{"start":{"line":730,"column":12},"end":{"line":730,"column":32}},"100":{"start":{"line":731,"column":12},"end":{"line":731,"column":50}},"101":{"start":{"line":733,"column":12},"end":{"line":735,"column":13}},"102":{"start":{"line":734,"column":16},"end":{"line":734,"column":51}},"103":{"start":{"line":745,"column":12},"end":{"line":745,"column":32}},"104":{"start":{"line":746,"column":12},"end":{"line":746,"column":50}},"105":{"start":{"line":748,"column":12},"end":{"line":748,"column":62}},"106":{"start":{"line":750,"column":12},"end":{"line":754,"column":13}},"107":{"start":{"line":751,"column":16},"end":{"line":753,"column":19}},"108":{"start":{"line":752,"column":20},"end":{"line":752,"column":57}},"109":{"start":{"line":756,"column":12},"end":{"line":758,"column":15}},"110":{"start":{"line":768,"column":12},"end":{"line":768,"column":32}},"111":{"start":{"line":770,"column":12},"end":{"line":772,"column":13}},"112":{"start":{"line":771,"column":16},"end":{"line":771,"column":54}},"113":{"start":{"line":782,"column":12},"end":{"line":785,"column":43}},"114":{"start":{"line":787,"column":12},"end":{"line":796,"column":15}},"115":{"start":{"line":788,"column":16},"end":{"line":788,"column":68}},"116":{"start":{"line":790,"column":16},"end":{"line":795,"column":19}},"117":{"start":{"line":791,"column":20},"end":{"line":794,"column":21}},"118":{"start":{"line":792,"column":24},"end":{"line":792,"column":53}},"119":{"start":{"line":793,"column":24},"end":{"line":793,"column":51}},"120":{"start":{"line":798,"column":12},"end":{"line":800,"column":15}},"121":{"start":{"line":799,"column":16},"end":{"line":799,"column":111}},"122":{"start":{"line":802,"column":12},"end":{"line":802,"column":44}},"123":{"start":{"line":804,"column":12},"end":{"line":804,"column":30}},"124":{"start":{"line":814,"column":12},"end":{"line":814,"column":32}},"125":{"start":{"line":816,"column":12},"end":{"line":816,"column":71}},"126":{"start":{"line":825,"column":12},"end":{"line":825,"column":32}},"127":{"start":{"line":827,"column":12},"end":{"line":827,"column":108}},"128":{"start":{"line":836,"column":12},"end":{"line":836,"column":32}},"129":{"start":{"line":838,"column":12},"end":{"line":838,"column":106}},"130":{"start":{"line":848,"column":12},"end":{"line":848,"column":32}},"131":{"start":{"line":849,"column":12},"end":{"line":849,"column":60}},"132":{"start":{"line":851,"column":12},"end":{"line":860,"column":15}},"133":{"start":{"line":852,"column":16},"end":{"line":853,"column":46}},"134":{"start":{"line":855,"column":16},"end":{"line":857,"column":17}},"135":{"start":{"line":856,"column":20},"end":{"line":856,"column":42}},"136":{"start":{"line":859,"column":16},"end":{"line":859,"column":39}},"137":{"start":{"line":862,"column":12},"end":{"line":862,"column":33}},"138":{"start":{"line":872,"column":12},"end":{"line":872,"column":32}},"139":{"start":{"line":873,"column":12},"end":{"line":873,"column":48}},"140":{"start":{"line":875,"column":12},"end":{"line":895,"column":15}},"141":{"start":{"line":906,"column":12},"end":{"line":906,"column":32}},"142":{"start":{"line":908,"column":12},"end":{"line":908,"column":63}},"143":{"start":{"line":918,"column":12},"end":{"line":918,"column":32}},"144":{"start":{"line":920,"column":12},"end":{"line":920,"column":66}},"145":{"start":{"line":930,"column":12},"end":{"line":932,"column":27}},"146":{"start":{"line":934,"column":12},"end":{"line":936,"column":13}},"147":{"start":{"line":935,"column":16},"end":{"line":935,"column":36}},"148":{"start":{"line":938,"column":12},"end":{"line":945,"column":14}},"149":{"start":{"line":941,"column":20},"end":{"line":941,"column":66}},"150":{"start":{"line":943,"column":20},"end":{"line":943,"column":38}},"151":{"start":{"line":947,"column":12},"end":{"line":960,"column":13}},"152":{"start":{"line":948,"column":16},"end":{"line":952,"column":18}},"153":{"start":{"line":954,"column":16},"end":{"line":959,"column":17}},"154":{"start":{"line":955,"column":20},"end":{"line":955,"column":44}},"155":{"start":{"line":957,"column":21},"end":{"line":959,"column":17}},"156":{"start":{"line":958,"column":20},"end":{"line":958,"column":58}},"157":{"start":{"line":962,"column":12},"end":{"line":962,"column":30}},"158":{"start":{"line":972,"column":12},"end":{"line":972,"column":32}},"159":{"start":{"line":974,"column":12},"end":{"line":974,"column":70}},"160":{"start":{"line":983,"column":12},"end":{"line":983,"column":32}},"161":{"start":{"line":985,"column":12},"end":{"line":986,"column":80}},"162":{"start":{"line":988,"column":12},"end":{"line":988,"column":28}},"163":{"start":{"line":997,"column":12},"end":{"line":997,"column":32}},"164":{"start":{"line":999,"column":12},"end":{"line":1000,"column":93}},"165":{"start":{"line":1002,"column":12},"end":{"line":1002,"column":41}},"166":{"start":{"line":1004,"column":12},"end":{"line":1004,"column":26}},"167":{"start":{"line":1013,"column":12},"end":{"line":1014,"column":58}},"168":{"start":{"line":1016,"column":12},"end":{"line":1018,"column":15}},"169":{"start":{"line":1017,"column":16},"end":{"line":1017,"column":67}},"170":{"start":{"line":1029,"column":12},"end":{"line":1029,"column":34}},"171":{"start":{"line":1040,"column":12},"end":{"line":1040,"column":32}},"172":{"start":{"line":1042,"column":12},"end":{"line":1042,"column":85}},"173":{"start":{"line":1043,"column":12},"end":{"line":1043,"column":38}},"174":{"start":{"line":1044,"column":12},"end":{"line":1044,"column":39}},"175":{"start":{"line":1045,"column":12},"end":{"line":1045,"column":36}},"176":{"start":{"line":1046,"column":12},"end":{"line":1046,"column":68}},"177":{"start":{"line":1057,"column":12},"end":{"line":1057,"column":32}},"178":{"start":{"line":1059,"column":12},"end":{"line":1059,"column":63}},"179":{"start":{"line":1069,"column":12},"end":{"line":1069,"column":32}},"180":{"start":{"line":1071,"column":12},"end":{"line":1074,"column":15}},"181":{"start":{"line":1086,"column":12},"end":{"line":1086,"column":32}},"182":{"start":{"line":1088,"column":12},"end":{"line":1092,"column":15}},"183":{"start":{"line":1103,"column":12},"end":{"line":1103,"column":32}},"184":{"start":{"line":1105,"column":12},"end":{"line":1114,"column":14}},"185":{"start":{"line":1125,"column":12},"end":{"line":1125,"column":32}},"186":{"start":{"line":1127,"column":12},"end":{"line":1127,"column":57}},"187":{"start":{"line":1138,"column":12},"end":{"line":1138,"column":32}},"188":{"start":{"line":1140,"column":12},"end":{"line":1142,"column":15}},"189":{"start":{"line":1154,"column":12},"end":{"line":1154,"column":32}},"190":{"start":{"line":1155,"column":12},"end":{"line":1155,"column":50}},"191":{"start":{"line":1157,"column":12},"end":{"line":1160,"column":15}},"192":{"start":{"line":1172,"column":12},"end":{"line":1172,"column":32}},"193":{"start":{"line":1173,"column":12},"end":{"line":1173,"column":50}},"194":{"start":{"line":1174,"column":12},"end":{"line":1174,"column":58}},"195":{"start":{"line":1175,"column":12},"end":{"line":1175,"column":58}},"196":{"start":{"line":1177,"column":12},"end":{"line":1182,"column":13}},"197":{"start":{"line":1178,"column":16},"end":{"line":1181,"column":19}},"198":{"start":{"line":1184,"column":12},"end":{"line":1186,"column":15}},"199":{"start":{"line":1197,"column":12},"end":{"line":1197,"column":32}},"200":{"start":{"line":1198,"column":12},"end":{"line":1198,"column":50}},"201":{"start":{"line":1199,"column":12},"end":{"line":1199,"column":58}},"202":{"start":{"line":1201,"column":12},"end":{"line":1205,"column":13}},"203":{"start":{"line":1202,"column":16},"end":{"line":1204,"column":19}},"204":{"start":{"line":1216,"column":12},"end":{"line":1216,"column":32}},"205":{"start":{"line":1217,"column":12},"end":{"line":1217,"column":50}},"206":{"start":{"line":1218,"column":12},"end":{"line":1218,"column":58}},"207":{"start":{"line":1220,"column":12},"end":{"line":1224,"column":13}},"208":{"start":{"line":1221,"column":16},"end":{"line":1223,"column":19}},"209":{"start":{"line":1235,"column":12},"end":{"line":1235,"column":32}},"210":{"start":{"line":1236,"column":12},"end":{"line":1236,"column":54}},"211":{"start":{"line":1238,"column":12},"end":{"line":1238,"column":73}},"212":{"start":{"line":1249,"column":12},"end":{"line":1249,"column":32}},"213":{"start":{"line":1251,"column":12},"end":{"line":1251,"column":41}},"214":{"start":{"line":1252,"column":12},"end":{"line":1252,"column":48}},"215":{"start":{"line":1263,"column":12},"end":{"line":1263,"column":32}},"216":{"start":{"line":1265,"column":12},"end":{"line":1265,"column":83}},"217":{"start":{"line":1266,"column":12},"end":{"line":1266,"column":48}},"218":{"start":{"line":1277,"column":12},"end":{"line":1277,"column":32}},"219":{"start":{"line":1279,"column":12},"end":{"line":1281,"column":15}},"220":{"start":{"line":1283,"column":12},"end":{"line":1283,"column":48}},"221":{"start":{"line":1294,"column":12},"end":{"line":1294,"column":32}},"222":{"start":{"line":1296,"column":12},"end":{"line":1298,"column":15}},"223":{"start":{"line":1300,"column":12},"end":{"line":1300,"column":47}},"224":{"start":{"line":1311,"column":12},"end":{"line":1311,"column":32}},"225":{"start":{"line":1313,"column":12},"end":{"line":1318,"column":15}},"226":{"start":{"line":1314,"column":16},"end":{"line":1314,"column":61}},"227":{"start":{"line":1316,"column":16},"end":{"line":1316,"column":91}},"228":{"start":{"line":1317,"column":16},"end":{"line":1317,"column":56}},"229":{"start":{"line":1328,"column":12},"end":{"line":1328,"column":32}},"230":{"start":{"line":1329,"column":12},"end":{"line":1329,"column":58}},"231":{"start":{"line":1331,"column":12},"end":{"line":1331,"column":100}},"232":{"start":{"line":1343,"column":12},"end":{"line":1343,"column":32}},"233":{"start":{"line":1345,"column":12},"end":{"line":1347,"column":44}},"234":{"start":{"line":1349,"column":12},"end":{"line":1349,"column":62}},"235":{"start":{"line":1359,"column":12},"end":{"line":1359,"column":32}},"236":{"start":{"line":1361,"column":12},"end":{"line":1368,"column":14}},"237":{"start":{"line":1370,"column":12},"end":{"line":1370,"column":41}},"238":{"start":{"line":1371,"column":12},"end":{"line":1371,"column":85}},"239":{"start":{"line":1373,"column":12},"end":{"line":1373,"column":43}},"240":{"start":{"line":1374,"column":12},"end":{"line":1374,"column":42}},"241":{"start":{"line":1384,"column":12},"end":{"line":1384,"column":32}},"242":{"start":{"line":1386,"column":12},"end":{"line":1390,"column":14}},"243":{"start":{"line":1392,"column":12},"end":{"line":1392,"column":70}},"244":{"start":{"line":1404,"column":12},"end":{"line":1404,"column":32}},"245":{"start":{"line":1406,"column":12},"end":{"line":1427,"column":13}},"246":{"start":{"line":1407,"column":16},"end":{"line":1411,"column":19}},"247":{"start":{"line":1413,"column":16},"end":{"line":1424,"column":19}},"248":{"start":{"line":1414,"column":20},"end":{"line":1414,"column":39}},"249":{"start":{"line":1416,"column":20},"end":{"line":1421,"column":22}},"250":{"start":{"line":1423,"column":20},"end":{"line":1423,"column":73}},"251":{"start":{"line":1426,"column":16},"end":{"line":1426,"column":26}},"252":{"start":{"line":1429,"column":12},"end":{"line":1429,"column":23}},"253":{"start":{"line":1440,"column":12},"end":{"line":1440,"column":32}},"254":{"start":{"line":1442,"column":12},"end":{"line":1442,"column":50}},"255":{"start":{"line":1444,"column":12},"end":{"line":1478,"column":15}},"256":{"start":{"line":1482,"column":12},"end":{"line":1482,"column":108}},"257":{"start":{"line":1493,"column":12},"end":{"line":1493,"column":32}},"258":{"start":{"line":1495,"column":12},"end":{"line":1502,"column":13}},"259":{"start":{"line":1496,"column":16},"end":{"line":1497,"column":30}},"260":{"start":{"line":1499,"column":16},"end":{"line":1501,"column":17}},"261":{"start":{"line":1500,"column":20},"end":{"line":1500,"column":60}},"262":{"start":{"line":1513,"column":12},"end":{"line":1513,"column":32}},"263":{"start":{"line":1514,"column":12},"end":{"line":1514,"column":58}},"264":{"start":{"line":1516,"column":12},"end":{"line":1516,"column":99}},"265":{"start":{"line":1518,"column":12},"end":{"line":1520,"column":13}},"266":{"start":{"line":1519,"column":16},"end":{"line":1519,"column":66}},"267":{"start":{"line":1540,"column":12},"end":{"line":1540,"column":32}},"268":{"start":{"line":1542,"column":12},"end":{"line":1542,"column":84}},"269":{"start":{"line":1544,"column":12},"end":{"line":1546,"column":13}},"270":{"start":{"line":1545,"column":16},"end":{"line":1545,"column":50}},"271":{"start":{"line":1557,"column":12},"end":{"line":1557,"column":32}},"272":{"start":{"line":1558,"column":12},"end":{"line":1558,"column":62}},"273":{"start":{"line":1560,"column":12},"end":{"line":1560,"column":84}},"274":{"start":{"line":1570,"column":12},"end":{"line":1579,"column":14}},"275":{"start":{"line":1584,"column":0},"end":{"line":1584,"column":28}}},"branchMap":{"1":{"line":6,"type":"cond-expr","locations":[{"start":{"line":6,"column":49},"end":{"line":6,"column":60}},{"start":{"line":6,"column":63},"end":{"line":6,"column":101}}]},"2":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":16},"end":{"line":35,"column":16}},{"start":{"line":35,"column":16},"end":{"line":35,"column":16}}]},"3":{"line":410,"type":"cond-expr","locations":[{"start":{"line":410,"column":44},"end":{"line":410,"column":48}},{"start":{"line":410,"column":51},"end":{"line":410,"column":63}}]},"4":{"line":411,"type":"cond-expr","locations":[{"start":{"line":411,"column":54},"end":{"line":411,"column":63}},{"start":{"line":411,"column":66},"end":{"line":411,"column":83}}]},"5":{"line":518,"type":"if","locations":[{"start":{"line":518,"column":12},"end":{"line":518,"column":12}},{"start":{"line":518,"column":12},"end":{"line":518,"column":12}}]},"6":{"line":536,"type":"if","locations":[{"start":{"line":536,"column":12},"end":{"line":536,"column":12}},{"start":{"line":536,"column":12},"end":{"line":536,"column":12}}]},"7":{"line":590,"type":"if","locations":[{"start":{"line":590,"column":12},"end":{"line":590,"column":12}},{"start":{"line":590,"column":12},"end":{"line":590,"column":12}}]},"8":{"line":591,"type":"if","locations":[{"start":{"line":591,"column":16},"end":{"line":591,"column":16}},{"start":{"line":591,"column":16},"end":{"line":591,"column":16}}]},"9":{"line":645,"type":"if","locations":[{"start":{"line":645,"column":12},"end":{"line":645,"column":12}},{"start":{"line":645,"column":12},"end":{"line":645,"column":12}}]},"10":{"line":645,"type":"binary-expr","locations":[{"start":{"line":645,"column":16},"end":{"line":645,"column":42}},{"start":{"line":646,"column":16},"end":{"line":646,"column":51}},{"start":{"line":647,"column":16},"end":{"line":647,"column":48}}]},"11":{"line":656,"type":"if","locations":[{"start":{"line":656,"column":12},"end":{"line":656,"column":12}},{"start":{"line":656,"column":12},"end":{"line":656,"column":12}}]},"12":{"line":676,"type":"if","locations":[{"start":{"line":676,"column":12},"end":{"line":676,"column":12}},{"start":{"line":676,"column":12},"end":{"line":676,"column":12}}]},"13":{"line":678,"type":"binary-expr","locations":[{"start":{"line":678,"column":29},"end":{"line":678,"column":49}},{"start":{"line":678,"column":53},"end":{"line":678,"column":54}}]},"14":{"line":680,"type":"if","locations":[{"start":{"line":680,"column":16},"end":{"line":680,"column":16}},{"start":{"line":680,"column":16},"end":{"line":680,"column":16}}]},"15":{"line":733,"type":"if","locations":[{"start":{"line":733,"column":12},"end":{"line":733,"column":12}},{"start":{"line":733,"column":12},"end":{"line":733,"column":12}}]},"16":{"line":750,"type":"if","locations":[{"start":{"line":750,"column":12},"end":{"line":750,"column":12}},{"start":{"line":750,"column":12},"end":{"line":750,"column":12}}]},"17":{"line":770,"type":"if","locations":[{"start":{"line":770,"column":12},"end":{"line":770,"column":12}},{"start":{"line":770,"column":12},"end":{"line":770,"column":12}}]},"18":{"line":791,"type":"if","locations":[{"start":{"line":791,"column":20},"end":{"line":791,"column":20}},{"start":{"line":791,"column":20},"end":{"line":791,"column":20}}]},"19":{"line":799,"type":"cond-expr","locations":[{"start":{"line":799,"column":71},"end":{"line":799,"column":79}},{"start":{"line":799,"column":82},"end":{"line":799,"column":109}}]},"20":{"line":827,"type":"binary-expr","locations":[{"start":{"line":827,"column":20},"end":{"line":827,"column":57}},{"start":{"line":827,"column":61},"end":{"line":827,"column":106}}]},"21":{"line":855,"type":"if","locations":[{"start":{"line":855,"column":16},"end":{"line":855,"column":16}},{"start":{"line":855,"column":16},"end":{"line":855,"column":16}}]},"22":{"line":934,"type":"if","locations":[{"start":{"line":934,"column":12},"end":{"line":934,"column":12}},{"start":{"line":934,"column":12},"end":{"line":934,"column":12}}]},"23":{"line":941,"type":"cond-expr","locations":[{"start":{"line":941,"column":57},"end":{"line":941,"column":58}},{"start":{"line":941,"column":61},"end":{"line":941,"column":65}}]},"24":{"line":947,"type":"if","locations":[{"start":{"line":947,"column":12},"end":{"line":947,"column":12}},{"start":{"line":947,"column":12},"end":{"line":947,"column":12}}]},"25":{"line":954,"type":"if","locations":[{"start":{"line":954,"column":16},"end":{"line":954,"column":16}},{"start":{"line":954,"column":16},"end":{"line":954,"column":16}}]},"26":{"line":957,"type":"if","locations":[{"start":{"line":957,"column":21},"end":{"line":957,"column":21}},{"start":{"line":957,"column":21},"end":{"line":957,"column":21}}]},"27":{"line":1177,"type":"if","locations":[{"start":{"line":1177,"column":12},"end":{"line":1177,"column":12}},{"start":{"line":1177,"column":12},"end":{"line":1177,"column":12}}]},"28":{"line":1177,"type":"binary-expr","locations":[{"start":{"line":1177,"column":16},"end":{"line":1177,"column":31}},{"start":{"line":1177,"column":35},"end":{"line":1177,"column":50}}]},"29":{"line":1201,"type":"if","locations":[{"start":{"line":1201,"column":12},"end":{"line":1201,"column":12}},{"start":{"line":1201,"column":12},"end":{"line":1201,"column":12}}]},"30":{"line":1220,"type":"if","locations":[{"start":{"line":1220,"column":12},"end":{"line":1220,"column":12}},{"start":{"line":1220,"column":12},"end":{"line":1220,"column":12}}]},"31":{"line":1316,"type":"cond-expr","locations":[{"start":{"line":1316,"column":55},"end":{"line":1316,"column":63}},{"start":{"line":1316,"column":66},"end":{"line":1316,"column":74}}]},"32":{"line":1406,"type":"if","locations":[{"start":{"line":1406,"column":12},"end":{"line":1406,"column":12}},{"start":{"line":1406,"column":12},"end":{"line":1406,"column":12}}]},"33":{"line":1416,"type":"cond-expr","locations":[{"start":{"line":1416,"column":63},"end":{"line":1418,"column":22}},{"start":{"line":1418,"column":25},"end":{"line":1421,"column":21}}]},"34":{"line":1453,"type":"cond-expr","locations":[{"start":{"line":1453,"column":54},"end":{"line":1453,"column":75}},{"start":{"line":1453,"column":78},"end":{"line":1453,"column":82}}]},"35":{"line":1495,"type":"if","locations":[{"start":{"line":1495,"column":12},"end":{"line":1495,"column":12}},{"start":{"line":1495,"column":12},"end":{"line":1495,"column":12}}]},"36":{"line":1496,"type":"cond-expr","locations":[{"start":{"line":1496,"column":35},"end":{"line":1496,"column":74}},{"start":{"line":1496,"column":77},"end":{"line":1497,"column":29}}]},"37":{"line":1499,"type":"if","locations":[{"start":{"line":1499,"column":16},"end":{"line":1499,"column":16}},{"start":{"line":1499,"column":16},"end":{"line":1499,"column":16}}]},"38":{"line":1518,"type":"if","locations":[{"start":{"line":1518,"column":12},"end":{"line":1518,"column":12}},{"start":{"line":1518,"column":12},"end":{"line":1518,"column":12}}]},"39":{"line":1544,"type":"if","locations":[{"start":{"line":1544,"column":12},"end":{"line":1544,"column":12}},{"start":{"line":1544,"column":12},"end":{"line":1544,"column":12}}]},"40":{"line":1544,"type":"binary-expr","locations":[{"start":{"line":1544,"column":16},"end":{"line":1544,"column":19}},{"start":{"line":1544,"column":23},"end":{"line":1544,"column":48}}]}},"code":["(function () { YUI.add('aui-diagram-node', function (A, NAME) {","","var DiagramNode,","","    adjustDiagramNodeOffset = function(diagramNode, offsetXY) {","        var dnXY = A.Lang.isArray(diagramNode) ? diagramNode : diagramNode.get('boundingBox').getXY();","","        return [dnXY[0] + offsetXY[0], dnXY[1] + offsetXY[1]];","    },","","    pythagoreanDistance = function(p1, p2) {","        var dx = p2[0] - p1[0],","            dy = p2[1] - p1[1];","","        return Math.sqrt(dx * dx + dy * dy);","    },","","    findHotPointBestMatch = function(diagramNode1, diagramNode2) {","        var hp1 = diagramNode1.hotPoints,","            hp2 = diagramNode2.hotPoints,","            xy1 = diagramNode1.get('boundingBox').getXY(),","            xy2 = diagramNode2.get('boundingBox').getXY(),","            len1, len2, i, j, minDistance = Infinity,","            match = [[0, 0], [0, 0]];","","        for (i = 0, len1 = hp1.length; i < len1; i++) {","            var value1 = hp1[i],","                adjustedValue1 = adjustDiagramNodeOffset(xy1, value1);","","            for (j = 0, len2 = hp2.length; j < len2; j++) {","                var value2 = hp2[j],","                    adjustedValue2 = adjustDiagramNodeOffset(xy2, value2),","                    distance = pythagoreanDistance(adjustedValue2, adjustedValue1);","","                if (distance < minDistance) {","                    match[0] = value1;","                    match[1] = value2;","                    minDistance = distance;","                }","            }","        }","","        return match;","    },","","    isDiagramBuilder = function(val) {","        return A.instanceOf(val, A.PropertyBuilder);","    },","","    isMap = function(val) {","        return A.instanceOf(val, A.Map);","    },","","    CSS_DB_CONTROLS = A.getClassName('diagram', 'builder', 'controls'),","    CSS_DIAGRAM_NODE = A.getClassName('diagram', 'node'),","    CSS_DIAGRAM_NODE_LABEL = A.getClassName('diagram', 'node', 'label'),","    CSS_DIAGRAM_NODE_SELECTED = A.getClassName('diagram', 'node', 'selected'),","    CSS_DIAGRAM_NODE_SHAPE_BOUNDARY = A.getClassName('diagram', 'node', 'shape', 'boundary');","","/**"," * A base class for DiagramNode."," *"," * @class A.DiagramNode"," * @extends Overlay"," * @param {Object} config Object literal specifying widget configuration"," *     properties."," * @constructor"," */","DiagramNode = A.Component.create({","","    /**","     * Static property provides a string to identify the class.","     *","     * @property NAME","     * @type String","     * @static","     */","    NAME: 'diagram-node',","","    /**","     * Static property used to define the UI attributes.","     *","     * @property UI_ATTRS","     * @type Array","     * @static","     */","    UI_ATTRS: ['highlighted', 'name', 'required', 'selected'],","","    /**","     * Static property used to define the default attribute","     * configuration for the `A.DiagramNode`.","     *","     * @property ATTRS","     * @type Object","     * @static","     */","    ATTRS: {","","        /**","         * Stores an instance of `A.PropertyBuilder`.","         *","         * @attribute builder","         * @type DiagramBuilder","         */","        builder: {","            validator: isDiagramBuilder","        },","","        /**","         * A map of connectors.","         *","         * @attribute connectors","         * @writeOnce","         */","        connectors: {","            valueFn: '_connectorsValueFn',","            writeOnce: true","        },","","        /**","         * A toolbar to represent controls.","         *","         * @attribute controlsToolbar","         * @type Object","         */","        controlsToolbar: {","            validator: A.Lang.isObject,","            valueFn: '_controlsToolbarValueFn'","        },","","        /**","         * The description of the node.","         *","         * @attribute description","         * @default ''","         * @type String","         */","        description: {","            value: '',","            validator: A.Lang.isString","        },","","        /**","         * Stores an instance of `A.Graphic`.","         *","         * @attribute graphic","         * @type Object","         * @writeOnce","         */","        graphic: {","            writeOnce: true,","            validator: A.Lang.isObject","        },","","        /**","         * The height of the node.","         *","         * @attribute height","         * @default 60","         * @type Number","         */","        height: {","            value: 60","        },","","        /**","         * Checks if a node is highlighted or not.","         *","         * @attribute highlighted","         * @default false","         * @type Boolean","         */","        highlighted: {","            validator: A.Lang.isBoolean,","            value: false","        },","","        /**","         * The name of the node.","         *","         * @attribute name","         * @type String","         */","        name: {","            valueFn: function() {","                var instance = this;","","                return instance.get('type') + (++A.Env._uidx);","            },","            validator: A.Lang.isString","        },","","        /**","         * Checks if a node is required or not.","         *","         * @attribute required","         * @default false","         * @type Boolean","         */","        required: {","            value: false,","            validator: A.Lang.isBoolean","        },","","        /**","         * Checks if a node is selected or not.","         *","         * @attribute selected","         * @default false","         * @type Boolean","         */","        selected: {","            value: false,","            validator: A.Lang.isBoolean","        },","","        /**","         * A graphic shape to represent a boundary.","         *","         * @attribute shapeBoundary","         * @type Object","         */","        shapeBoundary: {","            validator: A.Lang.isObject,","            valueFn: '_valueShapeBoundary'","        },","","        /**","         * Represents a stroke to highlight a boundary.","         *","         * @attribute highlightBoundaryStroke","         * @type Object","         */","        highlightBoundaryStroke: {","            validator: A.Lang.isObject,","            value: {","                weight: 7,","                color: '#484B4C',","                opacity: 0.25","            }","        },","","        /**","         * Configuration object to generate the shape invite graphic.","         *","         * @attribute shapeInvite","         * @type Object","         */","        shapeInvite: {","            validator: A.Lang.isObject,","            value: {","                radius: 12,","                type: 'circle',","                stroke: {","                    weight: 6,","                    color: '#ff6600',","                    opacity: 0.8","                },","                fill: {","                    color: '#ffd700',","                    opacity: 0.8","                }","            }","        },","","        /**","         * Collection of strings used to label elements of the UI.","         *","         * @attribute strings","         * @type Object","         */","        strings: {","            value: {","                closeMessage: 'Close',","                connectMessage: 'Connect',","                description: 'Description',","                editMessage: 'Edit',","                name: 'Name',","                type: 'Type'","            }","        },","","        /**","         * Specify the tab order of elements.","         *","         * @attribute tabIndex","         * @default 1","         * @type Number","         */","        tabIndex: {","            value: 1","        },","","        /**","         * Map of transitions that stores the uid, source and target data from","         * connectors.","         *","         * @attribute transitions","         * @default null","         * @writeOnce","         */","        transitions: {","            value: null,","            writeOnce: true,","            setter: '_setTransitions'","        },","","        /**","         * The type of the node.","         *","         * @attribute type","         * @default 'node'","         * @type String","         */","        type: {","            value: 'node',","            validator: A.Lang.isString","        },","","        /**","         * The width of the node.","         *","         * @attribute width","         * @default 60","         * @type Number","         */","        width: {","            value: 60","        },","","        /**","         * Specify the stack order of elements.","         *","         * @attribute zIndex","         * @default 100","         * @type Number","         */","        zIndex: {","            value: 100","        }","    },","","    /**","     * Static property used to define which component it extends.","     *","     * @property EXTENDS","     * @type String","     * @static","     */","    EXTENDS: A.Overlay,","","    /**","     * Coordinates to generate a circle graphic.","     *","     * @property CIRCLE_POINTS","     * @type Array","     * @static","     */","    CIRCLE_POINTS: [[35, 20], [28, 33], [14, 34], [5, 22], [10, 9], [24, 6], [34, 16], [31, 30], [18, 35], [6, 26], [","        7, 12], [20, 5], [33, 12], [34, 26], [22, 35], [9, 30], [6, 16], [16, 6], [30, 9], [35, 22], [26, 34], [","        12, 33], [5, 20], [12, 7], [26, 6], [35, 18], [30, 31], [16, 34], [6, 24], [9, 10], [22, 5], [34, 14], [","        33, 28], [20, 35], [7, 28], [6, 14], [18, 5], [31, 10], [34, 24], [24, 34], [10, 31], [5, 18], [14, 6], [","        28, 8], [35, 20], [28, 33], [14, 34], [5, 22], [10, 8], [25, 6], [34, 16], [31, 30], [18, 35], [6, 26], [","        8, 12], [20, 5], [33, 12], [33, 27], [22, 35], [8, 30], [6, 15], [16, 6], [30, 9], [35, 23], [26, 34], [","        12, 32], [5, 20], [12, 7], [27, 7], [35, 18], [29, 32], [15, 34]],","","    /**","     * Coordinates to generate a diamond graphic.","     *","     * @property DIAMOND_POINTS","     * @type Array","     * @static","     */","    DIAMOND_POINTS: [[30, 5], [35, 10], [40, 15], [45, 20], [50, 25], [55, 30], [50, 35], [45, 40], [40, 45], [35,","        50], [30, 55], [25, 50], [20, 45], [15, 40], [10, 35], [5, 30], [10, 25], [15, 20], [20, 15], [25, 10]],","","    /**","     * Coordinates to generate a square graphic.","     *","     * @property SQUARE_POINTS","     * @type Array","     * @static","     */","    SQUARE_POINTS: [[5, 5], [10, 5], [15, 5], [20, 5], [25, 5], [30, 5], [35, 5], [40, 5], [50, 5], [55, 5], [60, 5], [","        65, 5], [65, 10], [65, 15], [65, 20], [65, 25], [65, 30], [65, 35], [65, 40], [65, 45], [65, 50], [65,","        55], [65, 60], [65, 65], [60, 65], [55, 65], [50, 65], [45, 65], [40, 65], [35, 65], [30, 65], [25, 65], [","        20, 65], [15, 65], [10, 65], [5, 65], [5, 60], [5, 55], [5, 50], [5, 45], [5, 40], [5, 35], [5, 30], [5,","        25], [5, 20], [5, 15], [5, 10]],","","    /**","     * Gets a node by its name.","     *","     * @method getNodeByName","     * @param name","     * @private","     */","    getNodeByName: function(name) {","        return A.Widget.getByNode('[data-nodeId=' + A.DiagramNode.buildNodeId(name) + ']');","    },","","    /**","     * Gets the node top and left coordinates based on the container.","     *","     * @method getNodeCoordinates","     * @param container","     * @param node","     * @private","     */","    getNodeCoordinates: function(container, node) {","        var nodeXY = A.Lang.isArray(node) ? node : node.getXY();","        var containerXY = A.Lang.isArray(container) ? container : container.getXY();","","        return A.Array.map(containerXY, function(val, i) {","            return Math.max(0, val - nodeXY[i]);","        });","    },","","    /**","     * Constructs the node id string.","     *","     * @method buildNodeId","     * @param id","     * @private","     */","    buildNodeId: function(id) {","        return 'diagramNode' + '_' + 'field' + '_' + id.replace(/[^a-z0-9.:_\\-]/ig, '_');","    },","","    prototype: {","        LABEL_TEMPLATE: '<div class=\"' + CSS_DIAGRAM_NODE_LABEL + '\">{label}</div>',","","        boundary: null,","","        hotPoints: [[0, 0]],","","        CONTROLS_TEMPLATE: '<div class=\"' + CSS_DB_CONTROLS + '\"></div>',","","        SERIALIZABLE_ATTRS: ['description', 'name', 'required', 'type', 'width', 'height', 'zIndex', 'xy'],","","        /**","         * Construction logic executed during DiagramNode instantiation.","         * Lifecycle.","         *","         * @method initializer","         * @protected","         */","        initializer: function() {","            var instance = this;","","            instance.after({","                'map:remove': A.bind(instance._afterMapRemove, instance),","                render: instance._afterRender","            });","","            instance.on({","                nameChange: instance._onNameChange","            });","","            instance.publish({","                connectDrop: {","                    defaultFn: instance.connectDrop","                },","                connectEnd: {","                    defaultFn: instance.connectEnd","                },","                connectMove: {","                    defaultFn: instance.connectMove","                },","                connectOutTarget: {","                    defaultFn: instance.connectOutTarget","                },","                connectOverTarget: {","                    defaultFn: instance.connectOverTarget","                },","                connectStart: {","                    defaultFn: instance.connectStart","                },","                boundaryMouseEnter: {},","                boundaryMouseLeave: {}","            });","","            instance.toolbarContainer = instance.get('toolbarContainer');","","            instance.get('boundingBox').addClass(CSS_DIAGRAM_NODE + '-' + instance.get('type'));","        },","","        /**","         * Destructor lifecycle implementation for the `DiagramNode` class.","         * Lifecycle.","         *","         * @method destructor","         * @protected","         */","        destructor: function() {","            var instance = this;","","            instance.eachConnector(function(connector, index, sourceNode) {","                sourceNode.removeTransition(connector.get('transition'));","            });","","            instance.invite.destroy();","            instance.get('graphic').destroy();","            instance.get('builder').removeField(instance);","        },","","        /**","         * Adds a transition into the node.","         *","         * @method addTransition","         * @param transition","         */","        addTransition: function(transition) {","            var instance = this,","                transitions = instance.get('transitions');","","            transition = instance.prepareTransition(transition);","","            if (!transitions.has(transition.uid)) {","                transition.uid = A.guid();","                transitions.put(transition.uid, transition);","            }","","            return transition;","        },","","        /**","         * Aligns a single transition.","         *","         * @method alignTransition","         * @param transition","         */","        alignTransition: function(transition) {","            var instance = this;","            var diagramNode = A.DiagramNode.getNodeByName(transition.target);","","            if (diagramNode) {","                var bestMatch = findHotPointBestMatch(instance, diagramNode);","","                transition = A.merge(transition, {","                    sourceXY: bestMatch[0],","                    targetXY: bestMatch[1]","                });","","                instance.getConnector(transition).setAttrs({","                    p1: adjustDiagramNodeOffset(instance, transition.sourceXY),","                    p2: adjustDiagramNodeOffset(diagramNode, transition.targetXY)","                });","            }","        },","","        /**","         * Aligns a collection of transitions.","         *","         * @method alignTransitions","         */","        alignTransitions: function() {","            var instance = this,","                transitions = instance.get('transitions');","","            A.Array.each(transitions.values(), A.bind(instance.alignTransition, instance));","        },","","        /**","         * Destroys this instance.","         *","         * @method close","         */","        close: function() {","            var instance = this;","","            return instance.destroy();","        },","","        /**","         * Checks if a transition is connected, if not creates a new","         * `A.Connector` instance.","         *","         * @method connect","         * @param transition","         * @param optConnector","         */","        connect: function(transition, optConnector) {","            var instance = this;","","            transition = instance.addTransition(transition);","","            var connector = null;","            var diagramNode = A.DiagramNode.getNodeByName(transition.target);","","            if (diagramNode) {","                if (!instance.isTransitionConnected(transition)) {","                    var builder = instance.get('builder');","                    var bestMatch = findHotPointBestMatch(instance, diagramNode);","","                    A.mix(transition, {","                        sourceXY: bestMatch[0],","                        targetXY: bestMatch[1]","                    });","","                    connector = new A.Connector(","                        A.merge({","                            after: {","                                selectedChange: function() {","                                    instance.alignTransition(transition);","                                }","                            },","                            builder: builder,","                            graphic: builder.get('graphic'),","                            transition: transition","                        }, optConnector)","                    );","","                    instance.get('connectors').put(transition.uid, connector);","                }","            }","","            instance.alignTransition(transition);","","            return connector;","        },","","        /**","         * Calls the `connectNode` method with `publishedTarget` parameter.","         *","         * @method connectDrop","         * @param event","         */","        connectDrop: function(event) {","            var instance = this;","","            instance.connectNode(event.publishedTarget);","        },","","        /**","         * Handles the `connectEnd` event.","         *","         * @method connectEnd","         * @param event","         */","        connectEnd: function() {","            var instance = this;","            var builder = instance.get('builder');","            var publishedSource = builder.publishedSource;","","            if (!builder.isAbleToConnect() &&","                builder.get('showSuggestConnector') &&","                builder.connector.get('visible')) {","","                builder.showSuggestConnectorOverlay();","            }","            else {","                builder.connector.hide();","                publishedSource.invite.set('visible', false);","            }","","            if (builder.get('highlightDropZones')) {","                builder.get('fields').each(function(diagramNode) {","                    diagramNode.set('highlighted', false);","                });","            }","        },","","        /**","         * Sets the connector position based on the mouse X and Y positions.","         *","         * @method connectMove","         * @param event","         */","        connectMove: function(event) {","            var instance = this;","            var builder = instance.get('builder');","            var mouseXY = event.mouseXY;","","            builder.connector.set('p2', mouseXY);","","            if (builder.publishedTarget) {","                var invite = instance.invite;","                var offset = invite.get('radius') || 0;","","                if (!invite.get('visible')) {","                    invite.set('visible', true);","                }","","                invite.setXY([mouseXY[0] - offset, mouseXY[1] - offset]);","            }","        },","","        /**","         * Prepares the transition and connects a node.","         *","         * @method connectNode","         * @param diagramNode","         */","        connectNode: function(diagramNode) {","            var instance = this;","            var dd = instance.boundaryDragDelegate.dd;","","            instance.connect(","                instance.prepareTransition({","                    sourceXY: A.DiagramNode.getNodeCoordinates(dd.startXY, instance.get('boundingBox')),","                    target: diagramNode.get('name'),","                    targetXY: A.DiagramNode.getNodeCoordinates(dd.mouseXY, diagramNode.get('boundingBox'))","                })","            );","        },","","        /**","         * Sets the `publishedTarget` attribute to null and hiddes the","         * `publishedSource`'s invite.","         *","         * @method connectOutTarget","         * @param event","         */","        connectOutTarget: function() {","            var instance = this;","            var builder = instance.get('builder');","","            builder.publishedTarget = null;","            builder.publishedSource.invite.set('visible', false);","        },","","        /**","         * If `publishedSource` is different from the current instance, sets the","         * `publishedTarget` to the current instance.","         *","         * @method connectOverTarget","         * @param event","         */","        connectOverTarget: function() {","            var instance = this;","            var builder = instance.get('builder');","","            if (builder.publishedSource !== instance) {","                builder.publishedTarget = instance;","            }","        },","","        /**","         * Highlights each diagram node and fires a `publishedSource` event.","         *","         * @method connectStart","         * @param event","         */","        connectStart: function(event) {","            var instance = this;","            var builder = instance.get('builder');","","            builder.connector.show().set('p1', event.startXY);","","            if (builder.get('highlightDropZones')) {","                builder.get('fields').each(function(diagramNode) {","                    diagramNode.set('highlighted', true);","                });","            }","","            A.DiagramNodeManager.fire('publishedSource', {","                publishedSource: instance","            });","        },","","        /**","         * Checks if a transition is connected, if yes removes the transition.","         *","         * @method disconnect","         * @param transition","         */","        disconnect: function(transition) {","            var instance = this;","","            if (instance.isTransitionConnected(transition)) {","                instance.removeTransition(transition);","            }","        },","","        /**","         * An utility function to loop through all connectors.","         *","         * @method eachConnector","         * @param fn","         */","        eachConnector: function(fn) {","            var instance = this,","                sourceNodes = [],","                connectors = [].concat(instance.get('connectors').values()),","                tIndex = connectors.length;","","            A.Array.each(instance.get('builder').getSourceNodes(instance), function(sourceNode) {","                var sourceConnectors = sourceNode.get('connectors');","","                A.Array.each(sourceConnectors.values(), function(connector) {","                    if (instance.get('name') === connector.get('transition').target) {","                        sourceNodes.push(sourceNode);","                        connectors.push(connector);","                    }","                });","            });","","            A.Array.each(connectors, function(connector, index) {","                fn.call(instance, connector, index, (index < tIndex) ? instance : sourceNodes[index - tIndex]);","            });","","            connectors = sourceNodes = null;","","            return connectors;","        },","","        /**","         * Returns a connector based on the transition uid.","         *","         * @method getConnector","         * @param transition","         */","        getConnector: function(transition) {","            var instance = this;","","            return instance.get('connectors').getValue(transition.uid);","        },","","        /**","         * Returns the `dropContainer` or bounding box's parent node.","         *","         * @method getContainer","         */","        getContainer: function() {","            var instance = this;","","            return (instance.get('builder').dropContainer || instance.get('boundingBox').get('parentNode'));","        },","","        /**","         * Returns the left and top positions of a node based in its container.","         *","         * @method getNodeCoordinates","         */","        getNodeCoordinates: function() {","            var instance = this;","","            return A.DiagramNode.getNodeCoordinates(instance.get('boundingBox'), instance.getContainer());","        },","","        /**","         * Gets the list of properties from the property model.","         *","         * @method getProperties","         * @return {Array}","         */","        getProperties: function() {","            var instance = this;","            var propertyModel = instance.getPropertyModel();","","            A.Array.each(propertyModel, function(property) {","                var value = instance.get(property.attributeName),","                    type = A.Lang.type(value);","","                if (type === 'boolean') {","                    value = String(value);","                }","","                property.value = value;","            });","","            return propertyModel;","        },","","        /**","         * Gets the model defition of a property.","         *","         * @method getPropertyModel","         * @return {Array}","         */","        getPropertyModel: function() {","            var instance = this;","            var strings = instance.getStrings();","","            return [{","                attributeName: 'description',","                editor: new A.TextAreaCellEditor(),","                name: strings.description","            }, {","                attributeName: 'name',","                editor: new A.TextCellEditor({","                    validator: {","                        rules: {","                            value: {","                                required: true","                            }","                        }","                    }","                }),","                name: strings.name","            }, {","                attributeName: 'type',","                editor: false,","                name: strings.type","            }];","        },","","        /**","         * Checks if boundary is draggable.","         *","         * @method isBoundaryDrag","         * @param drag","         * @return {Boolean}","         */","        isBoundaryDrag: function(drag) {","            var instance = this;","","            return (drag === instance.boundaryDragDelegate.dd);","        },","","        /**","         * Checks if a connector has an transition uid property.","         *","         * @method isTransitionConnected","         * @param transition","         */","        isTransitionConnected: function(transition) {","            var instance = this;","","            return instance.get('connectors').has(transition.uid);","        },","","        /**","         * Builds the transition configuration object.","         *","         * @method prepareTransition","         * @param val","         */","        prepareTransition: function(val) {","            var instance = this,","                target = val,","                transition;","","            if (A.Lang.isObject(val)) {","                target = val.target;","            }","","            A.Array.some(","                instance.get('transitions').values(),","                function(t) {","                    transition = (target === t.target) ? t : null;","","                    return transition;","                }","            );","","            if (!transition) {","                transition = {","                    source: instance.get('name'),","                    target: null,","                    uid: A.guid()","                };","","                if (A.Lang.isString(val)) {","                    transition.target = val;","                }","                else if (A.Lang.isObject(val)) {","                    transition = A.merge(transition, val);","                }","            }","","            return transition;","        },","","        /**","         * Removes the transition uid from a transition.","         *","         * @method removeTransition","         * @param transition","         */","        removeTransition: function(transition) {","            var instance = this;","","            return instance.get('transitions').remove(transition.uid);","        },","","        /**","         * Renders the `shapeBoundary` attribute.","         *","         * @method renderShapeBoundary","         */","        renderShapeBoundary: function() {","            var instance = this;","","            var boundary = instance.boundary =","                instance.get('graphic').addShape(instance.get('shapeBoundary'));","","            return boundary;","        },","","        /**","         * Renders the `shapeInvite` attribute.","         *","         * @method renderShapeInvite","         */","        renderShapeInvite: function() {","            var instance = this;","","            var invite = instance.invite =","                instance.get('builder').get('graphic').addShape(instance.get('shapeInvite'));","","            invite.set('visible', false);","","            return invite;","        },","","        /**","         * Syncs the connections in the UI.","         *","         * @method syncConnectionsUI","         */","        syncConnectionsUI: function() {","            var instance = this,","                transitions = instance.get('transitions');","","            A.Array.each(transitions.values(), function(transition) {","                instance.connect(transition, transition.connector);","            });","        },","","        /**","         * Fires after a connector has been removed.","         *","         * @method _afterConnectorRemove","         * @param event","         * @protected","         */","        _afterConnectorRemove: function(event) {","            event.value.destroy();","        },","","        /**","         * Fires after render is executed.","         *","         * @method _afterRender","         * @param event","         * @protected","         */","        _afterRender: function() {","            var instance = this;","","            instance.setStdModContent(A.WidgetStdMod.BODY, '', A.WidgetStdMod.AFTER);","            instance._renderGraphic();","            instance._renderControls();","            instance._renderLabel();","            instance._uiSetHighlighted(instance.get('highlighted'));","        },","","        /**","         * Fires after a transition has been removed.","         *","         * @method _afterTransitionsRemove","         * @param event","         * @protected","         */","        _afterTransitionsRemove: function(event) {","            var instance = this;","","            instance.get('connectors').remove(event.value.uid);","        },","","        /**","         * Binds mouse enter and mouse leave events in boundary.","         *","         * @method _bindBoundaryEvents","         * @protected","         */","        _bindBoundaryEvents: function() {","            var instance = this;","","            instance.boundary.detachAll().on({","                mouseenter: A.bind(instance._onBoundaryMouseEnter, instance),","                mouseleave: A.bind(instance._onBoundaryMouseLeave, instance)","            });","        },","","        /**","         * Returns a new instance of `A.Map` and bind the after connector remove","         * event.","         *","         * @method _connectorsValueFn","         * @param val","         * @protected","         */","        _connectorsValueFn: function() {","            var instance = this;","","            return new A.Map({","                after: {","                    remove: A.bind(instance._afterConnectorRemove, instance)","                }","            });","        },","","        /**","         * Returns a configuration object for the toolbar.","         *","         * @method _controlsToolbarValueFn","         * @param val","         * @protected","         */","        _controlsToolbarValueFn: function() {","            var instance = this;","","            return {","                children: [","                    {","                        icon: 'glyphicon glyphicon-remove',","                        on: {","                            click: A.bind(instance._handleCloseEvent, instance)","                        }","                    }","                ]","            };","        },","","        /**","         * Fires when a close event is dispatched.","         *","         * @method _handleCloseEvent","         * @param event","         * @protected","         */","        _handleCloseEvent: function() {","            var instance = this;","","            instance.get('builder').deleteSelectedNode();","        },","","        /**","         * Fires a `connectStart` event with `startXY` parameter.","         *","         * @method _handleConnectStart","         * @param startXY","         * @protected","         */","        _handleConnectStart: function(startXY) {","            var instance = this;","","            instance.fire('connectStart', {","                startXY: startXY","            });","        },","","        /**","         * Fires a `connectMove` event with `startXY` and `publishedSource`","         * parameters.","         *","         * @method _handleConnectMove","         * @param mouseXY","         * @protected","         */","        _handleConnectMove: function(mouseXY) {","            var instance = this;","            var builder = instance.get('builder');","","            instance.fire('connectMove', {","                mouseXY: mouseXY,","                publishedSource: builder.publishedSource","            });","        },","","        /**","         * Checks if source and target are published, if yes a `connectDrop`","         * event is fired with `publishedSource` and `publishedTarget`","         * parameters. Also fires a `connectEnd` event.","         *","         * @method _handleConnectEnd","         * @protected","         */","        _handleConnectEnd: function() {","            var instance = this;","            var builder = instance.get('builder');","            var publishedSource = builder.publishedSource;","            var publishedTarget = builder.publishedTarget;","","            if (publishedSource && publishedTarget) {","                instance.fire('connectDrop', {","                    publishedSource: publishedSource,","                    publishedTarget: publishedTarget","                });","            }","","            instance.fire('connectEnd', {","                publishedSource: publishedSource","            });","        },","","        /**","         * Checks if source is published, if yes a `connectOutTarget` event is","         * fired with `publishedSource` parameter.","         *","         * @method _handleConnectOutTarget","         * @protected","         */","        _handleConnectOutTarget: function() {","            var instance = this;","            var builder = instance.get('builder');","            var publishedSource = builder.publishedSource;","","            if (publishedSource) {","                instance.fire('connectOutTarget', {","                    publishedSource: publishedSource","                });","            }","        },","","        /**","         * Checks if source is published, if yes a `connectOverTarget` event is","         * fired with `publishedSource` parameter.","         *","         * @method _handleConnectOverTarget","         * @protected","         */","        _handleConnectOverTarget: function() {","            var instance = this;","            var builder = instance.get('builder');","            var publishedSource = builder.publishedSource;","","            if (publishedSource) {","                instance.fire('connectOverTarget', {","                    publishedSource: publishedSource","                });","            }","        },","","        /**","         * Fires when there's drag event happening in the boundary.","         *","         * @method _onBoundaryDrag","         * @param event","         * @protected","         */","        _onBoundaryDrag: function() {","            var instance = this;","            var dd = instance.boundaryDragDelegate.dd;","","            instance._handleConnectMove(dd.con._checkRegion(dd.mouseXY));","        },","","        /**","         * Fires when a drag event ends in the boundary.","         *","         * @method _onBoundaryDragEnd","         * @param event","         * @protected","         */","        _onBoundaryDragEnd: function(event) {","            var instance = this;","","            instance._handleConnectEnd();","            event.target.get('dragNode').show();","        },","","        /**","         * Fires when a drag event starts in the boundary.","         *","         * @method _onBoundaryDragStart","         * @param event","         * @protected","         */","        _onBoundaryDragStart: function(event) {","            var instance = this;","","            instance._handleConnectStart(instance.boundaryDragDelegate.dd.startXY);","            event.target.get('dragNode').hide();","        },","","        /**","         * Fires when mouse enters boundary.","         *","         * @method _onBoundaryMouseEnter","         * @param event","         * @protected","         */","        _onBoundaryMouseEnter: function(event) {","            var instance = this;","","            instance.fire('boundaryMouseEnter', {","                domEvent: event","            });","","            instance._handleConnectOverTarget();","        },","","        /**","         * Fires when mouse leaves boundary.","         *","         * @method _onBoundaryMouseLeave","         * @param event","         * @protected","         */","        _onBoundaryMouseLeave: function(event) {","            var instance = this;","","            instance.fire('boundaryMouseLeave', {","                domEvent: event","            });","","            instance._handleConnectOutTarget();","        },","","        /**","         * Fires when the name is changed.","         *","         * @method _onNameChange","         * @param event","         * @protected","         */","        _onNameChange: function(event) {","            var instance = this;","","            instance.eachConnector(function(connector, index, sourceNode) {","                var transition = connector.get('transition');","","                transition[(instance === sourceNode) ? 'source' : 'target'] = event.newVal;","                connector.set('transition', transition);","            });","        },","","        /**","         * Creates a node for the controls and append it to the bounding box.","         *","         * @method _renderControls","         * @protected","         */","        _renderControls: function() {","            var instance = this;","            var boundingBox = instance.get('boundingBox');","","            instance.controlsNode = A.Node.create(instance.CONTROLS_TEMPLATE).appendTo(boundingBox);","        },","","        /**","         * Creates an instance of `A.Toolbar` in `controlsToolbar` attribute and","         * renders it.","         *","         * @method _renderControlsToolbar","         * @param event","         * @protected","         */","        _renderControlsToolbar: function() {","            var instance = this;","","            instance.controlsToolbar = new A.Toolbar(","                instance.get('controlsToolbar')","            ).render(instance.controlsNode);","","            instance._uiSetRequired(instance.get('required'));","        },","","        /**","         * Renders the `graphic` attribute.","         *","         * @method _renderGraphic","         * @protected","         */","        _renderGraphic: function() {","            var instance = this;","","            instance.set(","                'graphic',","                new A.Graphic({","                    height: instance.get('height'),","                    render: instance.bodyNode,","                    width: instance.get('width')","                })","            );","","            instance.renderShapeInvite();","            instance.renderShapeBoundary().addClass(CSS_DIAGRAM_NODE_SHAPE_BOUNDARY);","","            instance._bindBoundaryEvents();","            instance._setupBoundaryDrag();","        },","","        /**","         * Creates a node for the label and place it after the content box.","         *","         * @method _renderLabel","         * @protected","         */","        _renderLabel: function() {","            var instance = this;","","            instance.labelNode = A.Node.create(","                A.Lang.sub(instance.LABEL_TEMPLATE, {","                    label: A.Escape.html(instance.get('name'))","                })","            );","","            instance.get('contentBox').placeAfter(instance.labelNode);","        },","","        /**","         * Set the `transition` attribute.","         *","         * @method _setTransitions","         * @param val","         * @protected","         * @return {Array}","         */","        _setTransitions: function(val) {","            var instance = this;","","            if (!isMap(val)) {","                var map = new A.Map({","                    after: {","                        remove: A.bind(instance._afterTransitionsRemove, instance)","                    }","                });","","                A.Array.each(val, function(transition) {","                    var uid = A.guid();","","                    transition = A.Lang.isObject(transition) ? A.mix(transition, {","                        uid: uid","                    }) : {","                        uid: uid,","                        target: transition","                    };","","                    map.put(uid, instance.prepareTransition(transition));","                });","","                val = map;","            }","","            return val;","        },","","        /**","         * Creates a new instance of `A.DD.Delegate` in `boundaryDragDelegate`","         * attribute.","         *","         * @method _setupBoundaryDrag","         * @protected","         */","        _setupBoundaryDrag: function() {","            var instance = this;","","            var builder = instance.get('builder');","","            instance.boundaryDragDelegate = new A.DD.Delegate({","                bubbleTargets: instance,","                container: instance.bodyNode,","                nodes: '.' + CSS_DIAGRAM_NODE_SHAPE_BOUNDARY,","                dragConfig: {","                    useShim: false,","                    plugins: [","                        {","                            cfg: {","                                constrain: (builder ? builder.get('canvas') : null)","                            },","                            fn: A.Plugin.DDConstrained","                        },","                        {","                            cfg: {","                                scrollDelay: 150","                            },","                            fn: A.Plugin.DDWinScroll","                        },","                        {","                            cfg: {","                                borderStyle: '0px',","                                moveOnEnd: false,","                                resizeFrame: false","                            },","                            fn: A.Plugin.DDProxy","                        }","                    ]","                },","                on: {","                    'drag:drag': A.bind(instance._onBoundaryDrag, instance),","                    'drag:end': A.bind(instance._onBoundaryDragEnd, instance),","                    'drag:start': A.bind(instance._onBoundaryDragStart, instance)","                }","            });","","            // Drag _unprep method invoke .detachAll() on the node, so we need","            // to rebind the events.","            A.Do.after(instance._bindBoundaryEvents, instance.boundaryDragDelegate.dd, '_unprep', instance);","        },","","        /**","         * Set the `highlighted` attribute in the UI.","         *","         * @method _uiSetHighlighted","         * @param val","         * @protected","         */","        _uiSetHighlighted: function(val) {","            var instance = this;","","            if (instance.get('rendered')) {","                var stroke = val ? instance.get('highlightBoundaryStroke') : instance.get('shapeBoundary' + '.' +","                    'stroke');","","                if (stroke) {","                    instance.boundary.set('stroke', stroke);","                }","            }","        },","","        /**","         * Set the `name` attribute in the UI.","         *","         * @method _uiSetName","         * @param val","         * @protected","         */","        _uiSetName: function(val) {","            var instance = this;","            var boundingBox = instance.get('boundingBox');","","            boundingBox.setAttribute('data-nodeId', A.Escape.html(A.DiagramNode.buildNodeId(val)));","","            if (instance.get('rendered')) {","                instance.labelNode.setContent(A.Escape.html(val));","            }","        },","","        /**","         * Set the `required` attribute in the UI.","         *","         * @method _uiSetRequired","         * @param val","         * @protected","         */","        _uiSetRequired: function() {},","","        /**","         * Set the `selected` attribute in the UI.","         *","         * @method _uiSetSelected","         * @param val","         * @protected","         */","        _uiSetSelected: function(val) {","            var instance = this;","","            instance.get('boundingBox').toggleClass(CSS_DIAGRAM_NODE_SELECTED, val);","","            if (val && !instance.controlsToolbar) {","                instance._renderControlsToolbar();","            }","        },","","        /**","         * Sets the X and Y position in the UI.","         *","         * @method _uiSetXY","         * @param val","         * @protected","         */","        _uiSetXY: function(val) {","            var instance = this;","            var containerXY = instance.getContainer().getXY();","","            this._posNode.setXY([val[0] + containerXY[0], val[1] + containerXY[1]]);","        },","","        /**","         * Gets the shape boundary definitions.","         *","         * @method _valueShapeBoundary","         * @protected","         */","        _valueShapeBoundary: function() {","            return {","                height: 41,","                type: 'rect',","                stroke: {","                    weight: 7,","                    color: 'transparent',","                    opacity: 0","                },","                width: 41","            };","        }","    }","});","","A.DiagramNode = DiagramNode;","","","}, '3.0.1', {\"requires\": [\"aui-diagram-node-manager-base\", \"escape\", \"overlay\"]});","","}());"]};
}
var __cov_ENHluQz_jcSDTfG819obCQ = __coverage__['build/aui-diagram-node/aui-diagram-node.js'];
__cov_ENHluQz_jcSDTfG819obCQ.s['1']++;YUI.add('aui-diagram-node',function(A,NAME){__cov_ENHluQz_jcSDTfG819obCQ.f['1']++;__cov_ENHluQz_jcSDTfG819obCQ.s['2']++;var DiagramNode,adjustDiagramNodeOffset=function(diagramNode,offsetXY){__cov_ENHluQz_jcSDTfG819obCQ.f['2']++;__cov_ENHluQz_jcSDTfG819obCQ.s['3']++;var dnXY=A.Lang.isArray(diagramNode)?(__cov_ENHluQz_jcSDTfG819obCQ.b['1'][0]++,diagramNode):(__cov_ENHluQz_jcSDTfG819obCQ.b['1'][1]++,diagramNode.get('boundingBox').getXY());__cov_ENHluQz_jcSDTfG819obCQ.s['4']++;return[dnXY[0]+offsetXY[0],dnXY[1]+offsetXY[1]];},pythagoreanDistance=function(p1,p2){__cov_ENHluQz_jcSDTfG819obCQ.f['3']++;__cov_ENHluQz_jcSDTfG819obCQ.s['5']++;var dx=p2[0]-p1[0],dy=p2[1]-p1[1];__cov_ENHluQz_jcSDTfG819obCQ.s['6']++;return Math.sqrt(dx*dx+dy*dy);},findHotPointBestMatch=function(diagramNode1,diagramNode2){__cov_ENHluQz_jcSDTfG819obCQ.f['4']++;__cov_ENHluQz_jcSDTfG819obCQ.s['7']++;var hp1=diagramNode1.hotPoints,hp2=diagramNode2.hotPoints,xy1=diagramNode1.get('boundingBox').getXY(),xy2=diagramNode2.get('boundingBox').getXY(),len1,len2,i,j,minDistance=Infinity,match=[[0,0],[0,0]];__cov_ENHluQz_jcSDTfG819obCQ.s['8']++;for(i=0,len1=hp1.length;i<len1;i++){__cov_ENHluQz_jcSDTfG819obCQ.s['9']++;var value1=hp1[i],adjustedValue1=adjustDiagramNodeOffset(xy1,value1);__cov_ENHluQz_jcSDTfG819obCQ.s['10']++;for(j=0,len2=hp2.length;j<len2;j++){__cov_ENHluQz_jcSDTfG819obCQ.s['11']++;var value2=hp2[j],adjustedValue2=adjustDiagramNodeOffset(xy2,value2),distance=pythagoreanDistance(adjustedValue2,adjustedValue1);__cov_ENHluQz_jcSDTfG819obCQ.s['12']++;if(distance<minDistance){__cov_ENHluQz_jcSDTfG819obCQ.b['2'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['13']++;match[0]=value1;__cov_ENHluQz_jcSDTfG819obCQ.s['14']++;match[1]=value2;__cov_ENHluQz_jcSDTfG819obCQ.s['15']++;minDistance=distance;}else{__cov_ENHluQz_jcSDTfG819obCQ.b['2'][1]++;}}}__cov_ENHluQz_jcSDTfG819obCQ.s['16']++;return match;},isDiagramBuilder=function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['5']++;__cov_ENHluQz_jcSDTfG819obCQ.s['17']++;return A.instanceOf(val,A.PropertyBuilder);},isMap=function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['6']++;__cov_ENHluQz_jcSDTfG819obCQ.s['18']++;return A.instanceOf(val,A.Map);},CSS_DB_CONTROLS=A.getClassName('diagram','builder','controls'),CSS_DIAGRAM_NODE=A.getClassName('diagram','node'),CSS_DIAGRAM_NODE_LABEL=A.getClassName('diagram','node','label'),CSS_DIAGRAM_NODE_SELECTED=A.getClassName('diagram','node','selected'),CSS_DIAGRAM_NODE_SHAPE_BOUNDARY=A.getClassName('diagram','node','shape','boundary');__cov_ENHluQz_jcSDTfG819obCQ.s['19']++;DiagramNode=A.Component.create({NAME:'diagram-node',UI_ATTRS:['highlighted','name','required','selected'],ATTRS:{builder:{validator:isDiagramBuilder},connectors:{valueFn:'_connectorsValueFn',writeOnce:true},controlsToolbar:{validator:A.Lang.isObject,valueFn:'_controlsToolbarValueFn'},description:{value:'',validator:A.Lang.isString},graphic:{writeOnce:true,validator:A.Lang.isObject},height:{value:60},highlighted:{validator:A.Lang.isBoolean,value:false},name:{valueFn:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['7']++;__cov_ENHluQz_jcSDTfG819obCQ.s['20']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['21']++;return instance.get('type')+ ++A.Env._uidx;},validator:A.Lang.isString},required:{value:false,validator:A.Lang.isBoolean},selected:{value:false,validator:A.Lang.isBoolean},shapeBoundary:{validator:A.Lang.isObject,valueFn:'_valueShapeBoundary'},highlightBoundaryStroke:{validator:A.Lang.isObject,value:{weight:7,color:'#484B4C',opacity:0.25}},shapeInvite:{validator:A.Lang.isObject,value:{radius:12,type:'circle',stroke:{weight:6,color:'#ff6600',opacity:0.8},fill:{color:'#ffd700',opacity:0.8}}},strings:{value:{closeMessage:'Close',connectMessage:'Connect',description:'Description',editMessage:'Edit',name:'Name',type:'Type'}},tabIndex:{value:1},transitions:{value:null,writeOnce:true,setter:'_setTransitions'},type:{value:'node',validator:A.Lang.isString},width:{value:60},zIndex:{value:100}},EXTENDS:A.Overlay,CIRCLE_POINTS:[[35,20],[28,33],[14,34],[5,22],[10,9],[24,6],[34,16],[31,30],[18,35],[6,26],[7,12],[20,5],[33,12],[34,26],[22,35],[9,30],[6,16],[16,6],[30,9],[35,22],[26,34],[12,33],[5,20],[12,7],[26,6],[35,18],[30,31],[16,34],[6,24],[9,10],[22,5],[34,14],[33,28],[20,35],[7,28],[6,14],[18,5],[31,10],[34,24],[24,34],[10,31],[5,18],[14,6],[28,8],[35,20],[28,33],[14,34],[5,22],[10,8],[25,6],[34,16],[31,30],[18,35],[6,26],[8,12],[20,5],[33,12],[33,27],[22,35],[8,30],[6,15],[16,6],[30,9],[35,23],[26,34],[12,32],[5,20],[12,7],[27,7],[35,18],[29,32],[15,34]],DIAMOND_POINTS:[[30,5],[35,10],[40,15],[45,20],[50,25],[55,30],[50,35],[45,40],[40,45],[35,50],[30,55],[25,50],[20,45],[15,40],[10,35],[5,30],[10,25],[15,20],[20,15],[25,10]],SQUARE_POINTS:[[5,5],[10,5],[15,5],[20,5],[25,5],[30,5],[35,5],[40,5],[50,5],[55,5],[60,5],[65,5],[65,10],[65,15],[65,20],[65,25],[65,30],[65,35],[65,40],[65,45],[65,50],[65,55],[65,60],[65,65],[60,65],[55,65],[50,65],[45,65],[40,65],[35,65],[30,65],[25,65],[20,65],[15,65],[10,65],[5,65],[5,60],[5,55],[5,50],[5,45],[5,40],[5,35],[5,30],[5,25],[5,20],[5,15],[5,10]],getNodeByName:function(name){__cov_ENHluQz_jcSDTfG819obCQ.f['8']++;__cov_ENHluQz_jcSDTfG819obCQ.s['22']++;return A.Widget.getByNode('[data-nodeId='+A.DiagramNode.buildNodeId(name)+']');},getNodeCoordinates:function(container,node){__cov_ENHluQz_jcSDTfG819obCQ.f['9']++;__cov_ENHluQz_jcSDTfG819obCQ.s['23']++;var nodeXY=A.Lang.isArray(node)?(__cov_ENHluQz_jcSDTfG819obCQ.b['3'][0]++,node):(__cov_ENHluQz_jcSDTfG819obCQ.b['3'][1]++,node.getXY());__cov_ENHluQz_jcSDTfG819obCQ.s['24']++;var containerXY=A.Lang.isArray(container)?(__cov_ENHluQz_jcSDTfG819obCQ.b['4'][0]++,container):(__cov_ENHluQz_jcSDTfG819obCQ.b['4'][1]++,container.getXY());__cov_ENHluQz_jcSDTfG819obCQ.s['25']++;return A.Array.map(containerXY,function(val,i){__cov_ENHluQz_jcSDTfG819obCQ.f['10']++;__cov_ENHluQz_jcSDTfG819obCQ.s['26']++;return Math.max(0,val-nodeXY[i]);});},buildNodeId:function(id){__cov_ENHluQz_jcSDTfG819obCQ.f['11']++;__cov_ENHluQz_jcSDTfG819obCQ.s['27']++;return'diagramNode'+'_'+'field'+'_'+id.replace(/[^a-z0-9.:_\-]/gi,'_');},prototype:{LABEL_TEMPLATE:'<div class="'+CSS_DIAGRAM_NODE_LABEL+'">{label}</div>',boundary:null,hotPoints:[[0,0]],CONTROLS_TEMPLATE:'<div class="'+CSS_DB_CONTROLS+'"></div>',SERIALIZABLE_ATTRS:['description','name','required','type','width','height','zIndex','xy'],initializer:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['12']++;__cov_ENHluQz_jcSDTfG819obCQ.s['28']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['29']++;instance.after({'map:remove':A.bind(instance._afterMapRemove,instance),render:instance._afterRender});__cov_ENHluQz_jcSDTfG819obCQ.s['30']++;instance.on({nameChange:instance._onNameChange});__cov_ENHluQz_jcSDTfG819obCQ.s['31']++;instance.publish({connectDrop:{defaultFn:instance.connectDrop},connectEnd:{defaultFn:instance.connectEnd},connectMove:{defaultFn:instance.connectMove},connectOutTarget:{defaultFn:instance.connectOutTarget},connectOverTarget:{defaultFn:instance.connectOverTarget},connectStart:{defaultFn:instance.connectStart},boundaryMouseEnter:{},boundaryMouseLeave:{}});__cov_ENHluQz_jcSDTfG819obCQ.s['32']++;instance.toolbarContainer=instance.get('toolbarContainer');__cov_ENHluQz_jcSDTfG819obCQ.s['33']++;instance.get('boundingBox').addClass(CSS_DIAGRAM_NODE+'-'+instance.get('type'));},destructor:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['13']++;__cov_ENHluQz_jcSDTfG819obCQ.s['34']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['35']++;instance.eachConnector(function(connector,index,sourceNode){__cov_ENHluQz_jcSDTfG819obCQ.f['14']++;__cov_ENHluQz_jcSDTfG819obCQ.s['36']++;sourceNode.removeTransition(connector.get('transition'));});__cov_ENHluQz_jcSDTfG819obCQ.s['37']++;instance.invite.destroy();__cov_ENHluQz_jcSDTfG819obCQ.s['38']++;instance.get('graphic').destroy();__cov_ENHluQz_jcSDTfG819obCQ.s['39']++;instance.get('builder').removeField(instance);},addTransition:function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['15']++;__cov_ENHluQz_jcSDTfG819obCQ.s['40']++;var instance=this,transitions=instance.get('transitions');__cov_ENHluQz_jcSDTfG819obCQ.s['41']++;transition=instance.prepareTransition(transition);__cov_ENHluQz_jcSDTfG819obCQ.s['42']++;if(!transitions.has(transition.uid)){__cov_ENHluQz_jcSDTfG819obCQ.b['5'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['43']++;transition.uid=A.guid();__cov_ENHluQz_jcSDTfG819obCQ.s['44']++;transitions.put(transition.uid,transition);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['5'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['45']++;return transition;},alignTransition:function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['16']++;__cov_ENHluQz_jcSDTfG819obCQ.s['46']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['47']++;var diagramNode=A.DiagramNode.getNodeByName(transition.target);__cov_ENHluQz_jcSDTfG819obCQ.s['48']++;if(diagramNode){__cov_ENHluQz_jcSDTfG819obCQ.b['6'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['49']++;var bestMatch=findHotPointBestMatch(instance,diagramNode);__cov_ENHluQz_jcSDTfG819obCQ.s['50']++;transition=A.merge(transition,{sourceXY:bestMatch[0],targetXY:bestMatch[1]});__cov_ENHluQz_jcSDTfG819obCQ.s['51']++;instance.getConnector(transition).setAttrs({p1:adjustDiagramNodeOffset(instance,transition.sourceXY),p2:adjustDiagramNodeOffset(diagramNode,transition.targetXY)});}else{__cov_ENHluQz_jcSDTfG819obCQ.b['6'][1]++;}},alignTransitions:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['17']++;__cov_ENHluQz_jcSDTfG819obCQ.s['52']++;var instance=this,transitions=instance.get('transitions');__cov_ENHluQz_jcSDTfG819obCQ.s['53']++;A.Array.each(transitions.values(),A.bind(instance.alignTransition,instance));},close:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['18']++;__cov_ENHluQz_jcSDTfG819obCQ.s['54']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['55']++;return instance.destroy();},connect:function(transition,optConnector){__cov_ENHluQz_jcSDTfG819obCQ.f['19']++;__cov_ENHluQz_jcSDTfG819obCQ.s['56']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['57']++;transition=instance.addTransition(transition);__cov_ENHluQz_jcSDTfG819obCQ.s['58']++;var connector=null;__cov_ENHluQz_jcSDTfG819obCQ.s['59']++;var diagramNode=A.DiagramNode.getNodeByName(transition.target);__cov_ENHluQz_jcSDTfG819obCQ.s['60']++;if(diagramNode){__cov_ENHluQz_jcSDTfG819obCQ.b['7'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['61']++;if(!instance.isTransitionConnected(transition)){__cov_ENHluQz_jcSDTfG819obCQ.b['8'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['62']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['63']++;var bestMatch=findHotPointBestMatch(instance,diagramNode);__cov_ENHluQz_jcSDTfG819obCQ.s['64']++;A.mix(transition,{sourceXY:bestMatch[0],targetXY:bestMatch[1]});__cov_ENHluQz_jcSDTfG819obCQ.s['65']++;connector=new A.Connector(A.merge({after:{selectedChange:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['20']++;__cov_ENHluQz_jcSDTfG819obCQ.s['66']++;instance.alignTransition(transition);}},builder:builder,graphic:builder.get('graphic'),transition:transition},optConnector));__cov_ENHluQz_jcSDTfG819obCQ.s['67']++;instance.get('connectors').put(transition.uid,connector);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['8'][1]++;}}else{__cov_ENHluQz_jcSDTfG819obCQ.b['7'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['68']++;instance.alignTransition(transition);__cov_ENHluQz_jcSDTfG819obCQ.s['69']++;return connector;},connectDrop:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['21']++;__cov_ENHluQz_jcSDTfG819obCQ.s['70']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['71']++;instance.connectNode(event.publishedTarget);},connectEnd:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['22']++;__cov_ENHluQz_jcSDTfG819obCQ.s['72']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['73']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['74']++;var publishedSource=builder.publishedSource;__cov_ENHluQz_jcSDTfG819obCQ.s['75']++;if((__cov_ENHluQz_jcSDTfG819obCQ.b['10'][0]++,!builder.isAbleToConnect())&&(__cov_ENHluQz_jcSDTfG819obCQ.b['10'][1]++,builder.get('showSuggestConnector'))&&(__cov_ENHluQz_jcSDTfG819obCQ.b['10'][2]++,builder.connector.get('visible'))){__cov_ENHluQz_jcSDTfG819obCQ.b['9'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['76']++;builder.showSuggestConnectorOverlay();}else{__cov_ENHluQz_jcSDTfG819obCQ.b['9'][1]++;__cov_ENHluQz_jcSDTfG819obCQ.s['77']++;builder.connector.hide();__cov_ENHluQz_jcSDTfG819obCQ.s['78']++;publishedSource.invite.set('visible',false);}__cov_ENHluQz_jcSDTfG819obCQ.s['79']++;if(builder.get('highlightDropZones')){__cov_ENHluQz_jcSDTfG819obCQ.b['11'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['80']++;builder.get('fields').each(function(diagramNode){__cov_ENHluQz_jcSDTfG819obCQ.f['23']++;__cov_ENHluQz_jcSDTfG819obCQ.s['81']++;diagramNode.set('highlighted',false);});}else{__cov_ENHluQz_jcSDTfG819obCQ.b['11'][1]++;}},connectMove:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['24']++;__cov_ENHluQz_jcSDTfG819obCQ.s['82']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['83']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['84']++;var mouseXY=event.mouseXY;__cov_ENHluQz_jcSDTfG819obCQ.s['85']++;builder.connector.set('p2',mouseXY);__cov_ENHluQz_jcSDTfG819obCQ.s['86']++;if(builder.publishedTarget){__cov_ENHluQz_jcSDTfG819obCQ.b['12'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['87']++;var invite=instance.invite;__cov_ENHluQz_jcSDTfG819obCQ.s['88']++;var offset=(__cov_ENHluQz_jcSDTfG819obCQ.b['13'][0]++,invite.get('radius'))||(__cov_ENHluQz_jcSDTfG819obCQ.b['13'][1]++,0);__cov_ENHluQz_jcSDTfG819obCQ.s['89']++;if(!invite.get('visible')){__cov_ENHluQz_jcSDTfG819obCQ.b['14'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['90']++;invite.set('visible',true);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['14'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['91']++;invite.setXY([mouseXY[0]-offset,mouseXY[1]-offset]);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['12'][1]++;}},connectNode:function(diagramNode){__cov_ENHluQz_jcSDTfG819obCQ.f['25']++;__cov_ENHluQz_jcSDTfG819obCQ.s['92']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['93']++;var dd=instance.boundaryDragDelegate.dd;__cov_ENHluQz_jcSDTfG819obCQ.s['94']++;instance.connect(instance.prepareTransition({sourceXY:A.DiagramNode.getNodeCoordinates(dd.startXY,instance.get('boundingBox')),target:diagramNode.get('name'),targetXY:A.DiagramNode.getNodeCoordinates(dd.mouseXY,diagramNode.get('boundingBox'))}));},connectOutTarget:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['26']++;__cov_ENHluQz_jcSDTfG819obCQ.s['95']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['96']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['97']++;builder.publishedTarget=null;__cov_ENHluQz_jcSDTfG819obCQ.s['98']++;builder.publishedSource.invite.set('visible',false);},connectOverTarget:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['27']++;__cov_ENHluQz_jcSDTfG819obCQ.s['99']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['100']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['101']++;if(builder.publishedSource!==instance){__cov_ENHluQz_jcSDTfG819obCQ.b['15'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['102']++;builder.publishedTarget=instance;}else{__cov_ENHluQz_jcSDTfG819obCQ.b['15'][1]++;}},connectStart:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['28']++;__cov_ENHluQz_jcSDTfG819obCQ.s['103']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['104']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['105']++;builder.connector.show().set('p1',event.startXY);__cov_ENHluQz_jcSDTfG819obCQ.s['106']++;if(builder.get('highlightDropZones')){__cov_ENHluQz_jcSDTfG819obCQ.b['16'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['107']++;builder.get('fields').each(function(diagramNode){__cov_ENHluQz_jcSDTfG819obCQ.f['29']++;__cov_ENHluQz_jcSDTfG819obCQ.s['108']++;diagramNode.set('highlighted',true);});}else{__cov_ENHluQz_jcSDTfG819obCQ.b['16'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['109']++;A.DiagramNodeManager.fire('publishedSource',{publishedSource:instance});},disconnect:function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['30']++;__cov_ENHluQz_jcSDTfG819obCQ.s['110']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['111']++;if(instance.isTransitionConnected(transition)){__cov_ENHluQz_jcSDTfG819obCQ.b['17'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['112']++;instance.removeTransition(transition);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['17'][1]++;}},eachConnector:function(fn){__cov_ENHluQz_jcSDTfG819obCQ.f['31']++;__cov_ENHluQz_jcSDTfG819obCQ.s['113']++;var instance=this,sourceNodes=[],connectors=[].concat(instance.get('connectors').values()),tIndex=connectors.length;__cov_ENHluQz_jcSDTfG819obCQ.s['114']++;A.Array.each(instance.get('builder').getSourceNodes(instance),function(sourceNode){__cov_ENHluQz_jcSDTfG819obCQ.f['32']++;__cov_ENHluQz_jcSDTfG819obCQ.s['115']++;var sourceConnectors=sourceNode.get('connectors');__cov_ENHluQz_jcSDTfG819obCQ.s['116']++;A.Array.each(sourceConnectors.values(),function(connector){__cov_ENHluQz_jcSDTfG819obCQ.f['33']++;__cov_ENHluQz_jcSDTfG819obCQ.s['117']++;if(instance.get('name')===connector.get('transition').target){__cov_ENHluQz_jcSDTfG819obCQ.b['18'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['118']++;sourceNodes.push(sourceNode);__cov_ENHluQz_jcSDTfG819obCQ.s['119']++;connectors.push(connector);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['18'][1]++;}});});__cov_ENHluQz_jcSDTfG819obCQ.s['120']++;A.Array.each(connectors,function(connector,index){__cov_ENHluQz_jcSDTfG819obCQ.f['34']++;__cov_ENHluQz_jcSDTfG819obCQ.s['121']++;fn.call(instance,connector,index,index<tIndex?(__cov_ENHluQz_jcSDTfG819obCQ.b['19'][0]++,instance):(__cov_ENHluQz_jcSDTfG819obCQ.b['19'][1]++,sourceNodes[index-tIndex]));});__cov_ENHluQz_jcSDTfG819obCQ.s['122']++;connectors=sourceNodes=null;__cov_ENHluQz_jcSDTfG819obCQ.s['123']++;return connectors;},getConnector:function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['35']++;__cov_ENHluQz_jcSDTfG819obCQ.s['124']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['125']++;return instance.get('connectors').getValue(transition.uid);},getContainer:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['36']++;__cov_ENHluQz_jcSDTfG819obCQ.s['126']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['127']++;return(__cov_ENHluQz_jcSDTfG819obCQ.b['20'][0]++,instance.get('builder').dropContainer)||(__cov_ENHluQz_jcSDTfG819obCQ.b['20'][1]++,instance.get('boundingBox').get('parentNode'));},getNodeCoordinates:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['37']++;__cov_ENHluQz_jcSDTfG819obCQ.s['128']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['129']++;return A.DiagramNode.getNodeCoordinates(instance.get('boundingBox'),instance.getContainer());},getProperties:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['38']++;__cov_ENHluQz_jcSDTfG819obCQ.s['130']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['131']++;var propertyModel=instance.getPropertyModel();__cov_ENHluQz_jcSDTfG819obCQ.s['132']++;A.Array.each(propertyModel,function(property){__cov_ENHluQz_jcSDTfG819obCQ.f['39']++;__cov_ENHluQz_jcSDTfG819obCQ.s['133']++;var value=instance.get(property.attributeName),type=A.Lang.type(value);__cov_ENHluQz_jcSDTfG819obCQ.s['134']++;if(type==='boolean'){__cov_ENHluQz_jcSDTfG819obCQ.b['21'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['135']++;value=String(value);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['21'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['136']++;property.value=value;});__cov_ENHluQz_jcSDTfG819obCQ.s['137']++;return propertyModel;},getPropertyModel:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['40']++;__cov_ENHluQz_jcSDTfG819obCQ.s['138']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['139']++;var strings=instance.getStrings();__cov_ENHluQz_jcSDTfG819obCQ.s['140']++;return[{attributeName:'description',editor:new A.TextAreaCellEditor(),name:strings.description},{attributeName:'name',editor:new A.TextCellEditor({validator:{rules:{value:{required:true}}}}),name:strings.name},{attributeName:'type',editor:false,name:strings.type}];},isBoundaryDrag:function(drag){__cov_ENHluQz_jcSDTfG819obCQ.f['41']++;__cov_ENHluQz_jcSDTfG819obCQ.s['141']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['142']++;return drag===instance.boundaryDragDelegate.dd;},isTransitionConnected:function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['42']++;__cov_ENHluQz_jcSDTfG819obCQ.s['143']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['144']++;return instance.get('connectors').has(transition.uid);},prepareTransition:function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['43']++;__cov_ENHluQz_jcSDTfG819obCQ.s['145']++;var instance=this,target=val,transition;__cov_ENHluQz_jcSDTfG819obCQ.s['146']++;if(A.Lang.isObject(val)){__cov_ENHluQz_jcSDTfG819obCQ.b['22'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['147']++;target=val.target;}else{__cov_ENHluQz_jcSDTfG819obCQ.b['22'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['148']++;A.Array.some(instance.get('transitions').values(),function(t){__cov_ENHluQz_jcSDTfG819obCQ.f['44']++;__cov_ENHluQz_jcSDTfG819obCQ.s['149']++;transition=target===t.target?(__cov_ENHluQz_jcSDTfG819obCQ.b['23'][0]++,t):(__cov_ENHluQz_jcSDTfG819obCQ.b['23'][1]++,null);__cov_ENHluQz_jcSDTfG819obCQ.s['150']++;return transition;});__cov_ENHluQz_jcSDTfG819obCQ.s['151']++;if(!transition){__cov_ENHluQz_jcSDTfG819obCQ.b['24'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['152']++;transition={source:instance.get('name'),target:null,uid:A.guid()};__cov_ENHluQz_jcSDTfG819obCQ.s['153']++;if(A.Lang.isString(val)){__cov_ENHluQz_jcSDTfG819obCQ.b['25'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['154']++;transition.target=val;}else{__cov_ENHluQz_jcSDTfG819obCQ.b['25'][1]++;__cov_ENHluQz_jcSDTfG819obCQ.s['155']++;if(A.Lang.isObject(val)){__cov_ENHluQz_jcSDTfG819obCQ.b['26'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['156']++;transition=A.merge(transition,val);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['26'][1]++;}}}else{__cov_ENHluQz_jcSDTfG819obCQ.b['24'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['157']++;return transition;},removeTransition:function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['45']++;__cov_ENHluQz_jcSDTfG819obCQ.s['158']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['159']++;return instance.get('transitions').remove(transition.uid);},renderShapeBoundary:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['46']++;__cov_ENHluQz_jcSDTfG819obCQ.s['160']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['161']++;var boundary=instance.boundary=instance.get('graphic').addShape(instance.get('shapeBoundary'));__cov_ENHluQz_jcSDTfG819obCQ.s['162']++;return boundary;},renderShapeInvite:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['47']++;__cov_ENHluQz_jcSDTfG819obCQ.s['163']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['164']++;var invite=instance.invite=instance.get('builder').get('graphic').addShape(instance.get('shapeInvite'));__cov_ENHluQz_jcSDTfG819obCQ.s['165']++;invite.set('visible',false);__cov_ENHluQz_jcSDTfG819obCQ.s['166']++;return invite;},syncConnectionsUI:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['48']++;__cov_ENHluQz_jcSDTfG819obCQ.s['167']++;var instance=this,transitions=instance.get('transitions');__cov_ENHluQz_jcSDTfG819obCQ.s['168']++;A.Array.each(transitions.values(),function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['49']++;__cov_ENHluQz_jcSDTfG819obCQ.s['169']++;instance.connect(transition,transition.connector);});},_afterConnectorRemove:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['50']++;__cov_ENHluQz_jcSDTfG819obCQ.s['170']++;event.value.destroy();},_afterRender:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['51']++;__cov_ENHluQz_jcSDTfG819obCQ.s['171']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['172']++;instance.setStdModContent(A.WidgetStdMod.BODY,'',A.WidgetStdMod.AFTER);__cov_ENHluQz_jcSDTfG819obCQ.s['173']++;instance._renderGraphic();__cov_ENHluQz_jcSDTfG819obCQ.s['174']++;instance._renderControls();__cov_ENHluQz_jcSDTfG819obCQ.s['175']++;instance._renderLabel();__cov_ENHluQz_jcSDTfG819obCQ.s['176']++;instance._uiSetHighlighted(instance.get('highlighted'));},_afterTransitionsRemove:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['52']++;__cov_ENHluQz_jcSDTfG819obCQ.s['177']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['178']++;instance.get('connectors').remove(event.value.uid);},_bindBoundaryEvents:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['53']++;__cov_ENHluQz_jcSDTfG819obCQ.s['179']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['180']++;instance.boundary.detachAll().on({mouseenter:A.bind(instance._onBoundaryMouseEnter,instance),mouseleave:A.bind(instance._onBoundaryMouseLeave,instance)});},_connectorsValueFn:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['54']++;__cov_ENHluQz_jcSDTfG819obCQ.s['181']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['182']++;return new A.Map({after:{remove:A.bind(instance._afterConnectorRemove,instance)}});},_controlsToolbarValueFn:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['55']++;__cov_ENHluQz_jcSDTfG819obCQ.s['183']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['184']++;return{children:[{icon:'glyphicon glyphicon-remove',on:{click:A.bind(instance._handleCloseEvent,instance)}}]};},_handleCloseEvent:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['56']++;__cov_ENHluQz_jcSDTfG819obCQ.s['185']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['186']++;instance.get('builder').deleteSelectedNode();},_handleConnectStart:function(startXY){__cov_ENHluQz_jcSDTfG819obCQ.f['57']++;__cov_ENHluQz_jcSDTfG819obCQ.s['187']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['188']++;instance.fire('connectStart',{startXY:startXY});},_handleConnectMove:function(mouseXY){__cov_ENHluQz_jcSDTfG819obCQ.f['58']++;__cov_ENHluQz_jcSDTfG819obCQ.s['189']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['190']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['191']++;instance.fire('connectMove',{mouseXY:mouseXY,publishedSource:builder.publishedSource});},_handleConnectEnd:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['59']++;__cov_ENHluQz_jcSDTfG819obCQ.s['192']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['193']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['194']++;var publishedSource=builder.publishedSource;__cov_ENHluQz_jcSDTfG819obCQ.s['195']++;var publishedTarget=builder.publishedTarget;__cov_ENHluQz_jcSDTfG819obCQ.s['196']++;if((__cov_ENHluQz_jcSDTfG819obCQ.b['28'][0]++,publishedSource)&&(__cov_ENHluQz_jcSDTfG819obCQ.b['28'][1]++,publishedTarget)){__cov_ENHluQz_jcSDTfG819obCQ.b['27'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['197']++;instance.fire('connectDrop',{publishedSource:publishedSource,publishedTarget:publishedTarget});}else{__cov_ENHluQz_jcSDTfG819obCQ.b['27'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['198']++;instance.fire('connectEnd',{publishedSource:publishedSource});},_handleConnectOutTarget:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['60']++;__cov_ENHluQz_jcSDTfG819obCQ.s['199']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['200']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['201']++;var publishedSource=builder.publishedSource;__cov_ENHluQz_jcSDTfG819obCQ.s['202']++;if(publishedSource){__cov_ENHluQz_jcSDTfG819obCQ.b['29'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['203']++;instance.fire('connectOutTarget',{publishedSource:publishedSource});}else{__cov_ENHluQz_jcSDTfG819obCQ.b['29'][1]++;}},_handleConnectOverTarget:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['61']++;__cov_ENHluQz_jcSDTfG819obCQ.s['204']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['205']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['206']++;var publishedSource=builder.publishedSource;__cov_ENHluQz_jcSDTfG819obCQ.s['207']++;if(publishedSource){__cov_ENHluQz_jcSDTfG819obCQ.b['30'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['208']++;instance.fire('connectOverTarget',{publishedSource:publishedSource});}else{__cov_ENHluQz_jcSDTfG819obCQ.b['30'][1]++;}},_onBoundaryDrag:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['62']++;__cov_ENHluQz_jcSDTfG819obCQ.s['209']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['210']++;var dd=instance.boundaryDragDelegate.dd;__cov_ENHluQz_jcSDTfG819obCQ.s['211']++;instance._handleConnectMove(dd.con._checkRegion(dd.mouseXY));},_onBoundaryDragEnd:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['63']++;__cov_ENHluQz_jcSDTfG819obCQ.s['212']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['213']++;instance._handleConnectEnd();__cov_ENHluQz_jcSDTfG819obCQ.s['214']++;event.target.get('dragNode').show();},_onBoundaryDragStart:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['64']++;__cov_ENHluQz_jcSDTfG819obCQ.s['215']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['216']++;instance._handleConnectStart(instance.boundaryDragDelegate.dd.startXY);__cov_ENHluQz_jcSDTfG819obCQ.s['217']++;event.target.get('dragNode').hide();},_onBoundaryMouseEnter:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['65']++;__cov_ENHluQz_jcSDTfG819obCQ.s['218']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['219']++;instance.fire('boundaryMouseEnter',{domEvent:event});__cov_ENHluQz_jcSDTfG819obCQ.s['220']++;instance._handleConnectOverTarget();},_onBoundaryMouseLeave:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['66']++;__cov_ENHluQz_jcSDTfG819obCQ.s['221']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['222']++;instance.fire('boundaryMouseLeave',{domEvent:event});__cov_ENHluQz_jcSDTfG819obCQ.s['223']++;instance._handleConnectOutTarget();},_onNameChange:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['67']++;__cov_ENHluQz_jcSDTfG819obCQ.s['224']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['225']++;instance.eachConnector(function(connector,index,sourceNode){__cov_ENHluQz_jcSDTfG819obCQ.f['68']++;__cov_ENHluQz_jcSDTfG819obCQ.s['226']++;var transition=connector.get('transition');__cov_ENHluQz_jcSDTfG819obCQ.s['227']++;transition[instance===sourceNode?(__cov_ENHluQz_jcSDTfG819obCQ.b['31'][0]++,'source'):(__cov_ENHluQz_jcSDTfG819obCQ.b['31'][1]++,'target')]=event.newVal;__cov_ENHluQz_jcSDTfG819obCQ.s['228']++;connector.set('transition',transition);});},_renderControls:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['69']++;__cov_ENHluQz_jcSDTfG819obCQ.s['229']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['230']++;var boundingBox=instance.get('boundingBox');__cov_ENHluQz_jcSDTfG819obCQ.s['231']++;instance.controlsNode=A.Node.create(instance.CONTROLS_TEMPLATE).appendTo(boundingBox);},_renderControlsToolbar:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['70']++;__cov_ENHluQz_jcSDTfG819obCQ.s['232']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['233']++;instance.controlsToolbar=new A.Toolbar(instance.get('controlsToolbar')).render(instance.controlsNode);__cov_ENHluQz_jcSDTfG819obCQ.s['234']++;instance._uiSetRequired(instance.get('required'));},_renderGraphic:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['71']++;__cov_ENHluQz_jcSDTfG819obCQ.s['235']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['236']++;instance.set('graphic',new A.Graphic({height:instance.get('height'),render:instance.bodyNode,width:instance.get('width')}));__cov_ENHluQz_jcSDTfG819obCQ.s['237']++;instance.renderShapeInvite();__cov_ENHluQz_jcSDTfG819obCQ.s['238']++;instance.renderShapeBoundary().addClass(CSS_DIAGRAM_NODE_SHAPE_BOUNDARY);__cov_ENHluQz_jcSDTfG819obCQ.s['239']++;instance._bindBoundaryEvents();__cov_ENHluQz_jcSDTfG819obCQ.s['240']++;instance._setupBoundaryDrag();},_renderLabel:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['72']++;__cov_ENHluQz_jcSDTfG819obCQ.s['241']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['242']++;instance.labelNode=A.Node.create(A.Lang.sub(instance.LABEL_TEMPLATE,{label:A.Escape.html(instance.get('name'))}));__cov_ENHluQz_jcSDTfG819obCQ.s['243']++;instance.get('contentBox').placeAfter(instance.labelNode);},_setTransitions:function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['73']++;__cov_ENHluQz_jcSDTfG819obCQ.s['244']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['245']++;if(!isMap(val)){__cov_ENHluQz_jcSDTfG819obCQ.b['32'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['246']++;var map=new A.Map({after:{remove:A.bind(instance._afterTransitionsRemove,instance)}});__cov_ENHluQz_jcSDTfG819obCQ.s['247']++;A.Array.each(val,function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['74']++;__cov_ENHluQz_jcSDTfG819obCQ.s['248']++;var uid=A.guid();__cov_ENHluQz_jcSDTfG819obCQ.s['249']++;transition=A.Lang.isObject(transition)?(__cov_ENHluQz_jcSDTfG819obCQ.b['33'][0]++,A.mix(transition,{uid:uid})):(__cov_ENHluQz_jcSDTfG819obCQ.b['33'][1]++,{uid:uid,target:transition});__cov_ENHluQz_jcSDTfG819obCQ.s['250']++;map.put(uid,instance.prepareTransition(transition));});__cov_ENHluQz_jcSDTfG819obCQ.s['251']++;val=map;}else{__cov_ENHluQz_jcSDTfG819obCQ.b['32'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['252']++;return val;},_setupBoundaryDrag:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['75']++;__cov_ENHluQz_jcSDTfG819obCQ.s['253']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['254']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['255']++;instance.boundaryDragDelegate=new A.DD.Delegate({bubbleTargets:instance,container:instance.bodyNode,nodes:'.'+CSS_DIAGRAM_NODE_SHAPE_BOUNDARY,dragConfig:{useShim:false,plugins:[{cfg:{constrain:builder?(__cov_ENHluQz_jcSDTfG819obCQ.b['34'][0]++,builder.get('canvas')):(__cov_ENHluQz_jcSDTfG819obCQ.b['34'][1]++,null)},fn:A.Plugin.DDConstrained},{cfg:{scrollDelay:150},fn:A.Plugin.DDWinScroll},{cfg:{borderStyle:'0px',moveOnEnd:false,resizeFrame:false},fn:A.Plugin.DDProxy}]},on:{'drag:drag':A.bind(instance._onBoundaryDrag,instance),'drag:end':A.bind(instance._onBoundaryDragEnd,instance),'drag:start':A.bind(instance._onBoundaryDragStart,instance)}});__cov_ENHluQz_jcSDTfG819obCQ.s['256']++;A.Do.after(instance._bindBoundaryEvents,instance.boundaryDragDelegate.dd,'_unprep',instance);},_uiSetHighlighted:function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['76']++;__cov_ENHluQz_jcSDTfG819obCQ.s['257']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['258']++;if(instance.get('rendered')){__cov_ENHluQz_jcSDTfG819obCQ.b['35'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['259']++;var stroke=val?(__cov_ENHluQz_jcSDTfG819obCQ.b['36'][0]++,instance.get('highlightBoundaryStroke')):(__cov_ENHluQz_jcSDTfG819obCQ.b['36'][1]++,instance.get('shapeBoundary'+'.'+'stroke'));__cov_ENHluQz_jcSDTfG819obCQ.s['260']++;if(stroke){__cov_ENHluQz_jcSDTfG819obCQ.b['37'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['261']++;instance.boundary.set('stroke',stroke);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['37'][1]++;}}else{__cov_ENHluQz_jcSDTfG819obCQ.b['35'][1]++;}},_uiSetName:function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['77']++;__cov_ENHluQz_jcSDTfG819obCQ.s['262']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['263']++;var boundingBox=instance.get('boundingBox');__cov_ENHluQz_jcSDTfG819obCQ.s['264']++;boundingBox.setAttribute('data-nodeId',A.Escape.html(A.DiagramNode.buildNodeId(val)));__cov_ENHluQz_jcSDTfG819obCQ.s['265']++;if(instance.get('rendered')){__cov_ENHluQz_jcSDTfG819obCQ.b['38'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['266']++;instance.labelNode.setContent(A.Escape.html(val));}else{__cov_ENHluQz_jcSDTfG819obCQ.b['38'][1]++;}},_uiSetRequired:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['78']++;},_uiSetSelected:function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['79']++;__cov_ENHluQz_jcSDTfG819obCQ.s['267']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['268']++;instance.get('boundingBox').toggleClass(CSS_DIAGRAM_NODE_SELECTED,val);__cov_ENHluQz_jcSDTfG819obCQ.s['269']++;if((__cov_ENHluQz_jcSDTfG819obCQ.b['40'][0]++,val)&&(__cov_ENHluQz_jcSDTfG819obCQ.b['40'][1]++,!instance.controlsToolbar)){__cov_ENHluQz_jcSDTfG819obCQ.b['39'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['270']++;instance._renderControlsToolbar();}else{__cov_ENHluQz_jcSDTfG819obCQ.b['39'][1]++;}},_uiSetXY:function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['80']++;__cov_ENHluQz_jcSDTfG819obCQ.s['271']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['272']++;var containerXY=instance.getContainer().getXY();__cov_ENHluQz_jcSDTfG819obCQ.s['273']++;this._posNode.setXY([val[0]+containerXY[0],val[1]+containerXY[1]]);},_valueShapeBoundary:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['81']++;__cov_ENHluQz_jcSDTfG819obCQ.s['274']++;return{height:41,type:'rect',stroke:{weight:7,color:'transparent',opacity:0},width:41};}}});__cov_ENHluQz_jcSDTfG819obCQ.s['275']++;A.DiagramNode=DiagramNode;},'3.0.1',{'requires':['aui-diagram-node-manager-base','escape','overlay']});
