# Legacy  和 UEFI 引导模式启动

UEFI 支持GPT

# 硬盘

### GPt和mbr 分区模式

一、当一台电脑启动时，它会先启动主板上的BIOS系统，bios再从硬盘上读取MBR主引导记录，硬盘上的MBR运行后，就会启动Windows操作系统。

而GPT是另外一种更先进的磁盘系统分区方式，一种使用UEFI启动系统的分区方式。因为兼容问题，gpt其实在引导的最开始部分也有一段mbr引导，也叫做“保护引导”，为了防止设备不支持uefi。

mbr最多支持2T，gpt格式最大支持18EB的大容量。1EB=1024PB，1PB=1024 TB，所以，gpt理论上是无限制的。

MBR的意思是“主引导记录”，GPT意思为GUID分区表，即“全局唯一标识磁盘分区表”。

mbr最多支持四个主分区，gpt没有限制。win7只能用mbr分区(也可以，但不建议)，从Win8开始微软建议使用gpt。

如果硬盘超过2T，那么就必须选择GPT UEFI，2T以下就无所谓了。

二、MBR与GPT的比较

1、MBR的意思是“主引导记录”，是因为它存在于硬盘驱动器开始部分的第一个扇区内，称为启动扇区。

启动扇区包含了已安装的操作系统的启动加载器和驱动器的逻辑分区信息。

安装系统后，启动加载器的初始信息，就放在启动扇区内。如果启动扇区被履盖，将导致Windows不能启动，就要用Windows的MBR修复功能。

MBR支持最大2TB磁盘，它无法处理大于2TB容量的磁盘。MBR还只支持最多4个主分区。如果要更多分区，要新建“扩展分区”，并在其中创建逻辑分区。

2、GPT分区：

GPT意为GUID分区表，这是一个正逐渐取代MBR的新标准，它由UEFI启动硬盘，这样就有了UEFI取代传统的BIOS，而GPT则取代传统的MBR。这个标准没有MBR的那些限制。磁盘驱动器容量可以大得多。它同时还支持几乎无限个分区数量，限制只在于操作系统，Windows支持最多128个GPT分区。通过UEFI，所有64位的系统都能从GPT启动。

三、结论：

mbr是针对兼容模式的，gpt是针对uefi模式的。

mbr的兼容性表现在：使用GPT的驱动器会包含一个“保护性MBR”。如果使用老式的MBR磁盘工具对GPT磁盘进行管理，会发现整个磁盘已经存在一个分区。这种保护性MBR，能保证老式磁盘工具不会把GPT磁盘当作没有分区的空盘处理。

在MBR磁盘上，分区和启动信息是保存在一个启动扇区上，如果启动扇区被破坏，系统就启动不了。

而GPT在整个磁盘上保存了多个启动信息的副本，因此它更安全，并可以恢复被破坏的启动信息。GPT还为这些信息保存了循环冗余校验码，如果数据被破坏，GPT会自动发现，并从磁盘上的其他地方进行恢复。

因此，GPT在今后的发展就会越来越占优势，MBR也会逐渐被GPT取代。

四、下面介绍一下，UEFI引导、传统的bios引导和硬盘gpt、mbr分区的简易判断方法。

1、桌面上右键点击我的电脑/计算机/这台电脑，选择”管理”，“磁盘管理”；右键“磁盘0”，在弹出的菜单中如果有“转换成MBR磁盘”，则是UEFI启动的，有“转换成GPT磁盘”则为传统的Legacy BIOS。

2、如何查看硬盘分区是mbr还是gpt？右击计算机，点击“管理”，在管理中选中“磁盘管理”，右键点击“磁盘0”选择查看属性。

![img](img/u=368155015,1229084809&fm=173&app=25&f=JPEG.jpg)



再点击“卷”，就可以看到此磁盘的基本信息了，这时我们就可以看到磁盘分区形式为gpt或MBR。

![img](img/u=1474543076,3428078761&fm=173&app=25&f=JPG.jpg)MBR分区

### 硬盘AHCI

高级主机控制器接口（英文：Advanced Host Controller Interface，缩写：AHCI），是一种由英特尔制定的技术标准，它允许软件与SATA存储设备沟通的硬件机制，可让SATA存储设备激活高级SATA功能，例如原生指令队列及热插拔。AHCI详细定义一个存储器架构规范给予硬件制造商，规范如何在系统存储器与SATA存储设备间传输数据，目前（2014年3月）最新AHC

##### 开启

 ![查看电脑是否开启ahci模式的方法](img/130220_73516540.jpg) 

##### 查询

 ![查看电脑是否开启ahci模式的方法](img/130105_57302851.png) 

 ![查看电脑是否开启ahci模式的方法](img/130105_99786606.png) 

# 设备管理器其实是驱动管理

其实是驱动管理

![image-20191101213136143](img/image-20191101213136143.png)