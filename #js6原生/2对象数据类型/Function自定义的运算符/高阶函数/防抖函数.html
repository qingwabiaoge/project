
<div style="height: 2000px">

</div>

<script>
    // 函数防抖，频繁操作中不处理，直到操作完成之后（再过 delay 的时间）才一次性处理
    function debounce(fn, delay) {
        delay = delay || 200;

        var timer = null;

        return function() {
            var arg = arguments;

            // 每次操作时，清除上次的定时器
            clearTimeout(timer);
            timer = null;

            // 定义新的定时器，一段时间后进行操作
            timer = setTimeout(function() {
                fn.apply(this, arg);
            }, delay);
        }
    };

    var count = 0;

    window.onscroll = debounce(function(e) {
        console.log(e.type, ++count); // scroll
    }, 500);
</script>