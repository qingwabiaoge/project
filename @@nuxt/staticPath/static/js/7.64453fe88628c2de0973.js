webpackJsonp([7],{"5Fwl":function(t,n){t.exports={component:"_3OIknX-Rxt2qV08nqnCbeK_0"}},GgnM:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("Xxa5"),o=e.n(i),c=e("exGp"),r=e.n(c),s=e("Dd8w"),a=e.n(s),u={data:function(){return{fatherId:"",uniformData:{}}},methods:{click:function(t){var n=a()({},t);this.uniformData=n,this.$refs.uniform.visible=!0},clickB:function(t){this.uniformData={},this.$refs.uniform.visible=!0,this.type="component",this.fatherId=t},clickI:function(t){var n=this,e=t._id,i=t.title;this.$confirm("删除组件 ["+i+"] , 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.$axios.delete("/component/"+e).then(function(t){n.$message({type:"success",message:"删除成功!"}),n.$store.dispatch("components/get"),n.uniformData={}})}).catch(function(){n.$message({type:"info",message:"已取消删除"})})},submitUniform:function(){var t=this;return r()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.uniformData._id){n.next=5;break}return n.next=3,t.$axios.patch("/component",t.uniformData);case 3:n.next=7;break;case 5:return n.next=7,t.$axios.post("/component",{component:t.uniformData,fatherId:t.fatherId});case 7:t.$store.dispatch("components/get"),t.uniformData={};case 9:case"end":return n.stop()}},n,t)}))()}},created:function(){}},f={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{class:t.$style.component},t._l(t.$store.state.components,function(n){return e("section",[e("h4",{on:{click:function(e){return t.click(n)}}},[t._v(t._s(n.title)+" "),n.children.length>0?e("b",{on:{click:function(e){return e.stopPropagation(),t.clickB(n._id)}}},[t._v("+")]):t._e()]),t._v(" "),n.children.length>0?e("p",t._l(n.children,function(n){return e("span",{on:{click:function(e){return t.click(n)}}},[t._v("\n        "+t._s(n.title)+" "),e("i",{on:{click:function(e){return e.stopPropagation(),t.clickI(n)}}},[t._v("-")])])}),0):t._e()])}),0),t._v(" "),e("uniform",{ref:"uniform",attrs:{data:t.uniformData},on:{submit:t.submitUniform}}),t._v(" "),e("div",{staticClass:"test"},[t._v("\n    "+t._s(t.$store.state.components)+"\n  ")])],1)},staticRenderFns:[]};var l=e("VU/8")(u,f,!1,function(t){this.$style=e("5Fwl")},null,null);n.default=l.exports}});
//# sourceMappingURL=7.64453fe88628c2de0973.js.map